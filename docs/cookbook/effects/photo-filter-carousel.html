<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Create a photo filter carousel  - Flutter </title>
  <link rel="shortcut icon" href="/images/favicon.png">

  <!-- Google Optimize -->
  <script src="https://www.googleoptimize.com/optimize.js?id=GTM-MPZP6R8"></script>
  <!-- End Google Optimize -->

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-ND4LWWZ');</script>
  <!-- End Google Tag Manager -->

  
  <meta name="description" content="How to implement a photo filter carousel.">
  <meta name="keywords" content=" ">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@flutterdev">

  <meta property="og:title" content="Create a photo filter carousel">
  <meta property="og:url" content="https://flutter.dev/docs/cookbook/effects/photo-filter-carousel">
  <meta property="og:description" content="How to implement a photo filter carousel.">
  
  <meta property="og:image" content="https://flutter.dev/images/flutter-logo-sharing.png">

  <link href="https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:300,400,500|Roboto+Mono:400,700|Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/main-5179236d2a521f0d8c964446a1eaa9bee448793c298286381d5cbdc3f6776229.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
  <script src="/assets/main-3d1fe020941b4eb18d313f0eb6a8ff9fd170a0b3ed6913d333d804fec0136545.js" type="text/javascript"></script>
  <script defer src="https://dartpad.dev/inject_embed.dart.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67589403-1', 'auto');
    ga('send', 'pageview');
  </script>

  <meta name="google-site-verification" content="HFqxhSbf9YA_0rBglNLzDiWnrHiK_w4cqDh2YD2GEY4" />
  <meta name="google-site-verification" content="Zom-prnFykfYycmI_nzRWYx5r6Z9OwR-yEsgElRz_Ug" />
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-ND4LWWZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="overlay-under-drawer"></div>

    <header class="site-header">
  <nav class="navbar navbar-expand-md justify-content-start justify-content-md-between">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="material-icons">menu</i>
    </button>

    <a class="navbar-brand" href="/">
      <img alt="Flutter logo" height="37" width="129" class="align-middle" src="/assets/flutter-lockup-1caf6476beed76adec3c477586da54de6b552b2f42108ec5bc68dc63bae2df75.png">
    </a>

    <div class="collapse navbar-collapse flex-grow-0" id="navbarSupportedContent">
      <div class="site-header__sheet-bg" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"></div>
      <div class="site-header__sheet">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="/docs">Docs</a>
          </li>
          <div class="site-sidebar site-sidebar--header d-md-none">
            <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

          </div>

          <li class="nav-item">
            <a class="nav-link" href="/showcase">Showcase</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/community">Community</a>
          </li>
        </ul>
        <form action="/search/" class="site-header__search form-inline">
          <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
        </form>
      </div>
    </div>
    <div class="site-header__social navbar-nav flex-row">
      <a class="nav-item nav-link" href="https://twitter.com/flutterdev" aria-label="Twittter"><i class="fab fa-twitter fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://www.youtube.com/flutterdev" aria-label="YouTube"><i class="fab fa-youtube fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://github.com/flutter" aria-label="Github"><i class="fab fa-github fa-lg"></i></a>
    </div>
    <a class="site-header__cta btn btn-primary" href="/docs/get-started/install/">Get started</a>
    </nav>
</header>
<!---->
  
  <div class="site-banner site-banner--default" role="alert">
    Flutter's I/O schedule is live. <a href="http://goo.gle/io21-flutter-agenda-4">Learn more</a>.
  </div>
<div class="container-fluid position-relative">
  <div class="row flex-xl-nowrap">
    <div class="fixed-col site-sidebar site-sidebar--fixed col-12 col-md-3 col-xl-2 d-none d-md-block" data-fixed-column>
      <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

    </div>
    <div
  id="site-toc--side"
  class="site-toc site-toc--side fixed-col col-xl-2 order-3"
  data-fixed-column
>
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    </header>
  <ul class="section-nav nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#add-a-selector-ring-and-dark-gradient">Add a selector ring and dark gradient</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#create-a-filter-carousel-item">Create a filter carousel item</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#implement-the-filter-carousel">Implement the filter carousel</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#interactive-example">Interactive example</a></li>
</ul>
</div>
<main class="site-content col-12 col-md-9 offset-md-3 col-xl-8 offset-xl-2 col-xxl-8 offset-xxl-2" role="main">
      <div class="container">
        
        <nav class="site-nextprev-nav">
    <ul>
      <li class="prev">
          <a href="/docs/cookbook/effects/nested-nav">Create a nested navigation flow</a>
      </li>
      <li class="next">
          <a href="/docs/cookbook/effects/parallax-scrolling">Create a scrolling parallax effect</a>
      </li>
      </ul>
  </nav>

        <header class="site-content__title">
          <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/flutter/website/tree/master/src/docs/cookbook/effects/photo-filter-carousel.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/flutter/website/issues/new?title='Create a photo filter carousel' page issue&body=
Page URL: https://flutter.dev/docs/cookbook/effects/photo-filter-carousel.html%0D%0A
Page source: https://github.com/flutter/website/tree/master/src/docs/cookbook/effects/photo-filter-carousel.md%0D%0A
%0D%0A
Found a typo? You can fix it yourself by going to the page source and clicking the pencil icon. Or finish creating this issue.%0D%0A
%0D%0A
Description of issue:" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

          <h1>Create a photo filter carousel</h1>
          

<nav aria-label="breadcrumb">
  <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs" property="item" typeof="WebPage"><span property="name">Docs</span>
      </a>
      <meta property="position" content="1" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/cookbook" property="item" typeof="WebPage"><span property="name">Cookbook</span>
      </a>
      <meta property="position" content="2" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/cookbook/effects" property="item" typeof="WebPage"><span property="name">Effects</span>
      </a>
      <meta property="position" content="3" />
    </li>
  <li class="breadcrumb-item active"
      property="itemListElement" typeof="ListItem" aria-current="page"><a href="/docs/cookbook/effects/photo-filter-carousel.html" property="item" typeof="WebPage"><span property="name">Create a photo filter carousel</span>
      </a>
      <meta property="position" content="4" />
    </li>
  
  </ol>
</nav>
          </header>
        <div
  id="site-toc--inline"
  class="site-toc site-toc--inline "
  
>
  <header class="site-toc__title">
    Contents
    </header>
  <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#add-a-selector-ring-and-dark-gradient">Add a selector ring and dark gradient</a></li>
<li class="toc-entry toc-h2"><a href="#create-a-filter-carousel-item">Create a filter carousel item</a></li>
<li class="toc-entry toc-h2"><a href="#implement-the-filter-carousel">Implement the filter carousel</a></li>
<li class="toc-entry toc-h2"><a href="#interactive-example">Interactive example</a></li>
</ul>
</div>
<p>Everybody knows that a photo looks better with a filter.
In this recipe, you build a scrollable,
filter selection carousel.</p>

<p>The following animation shows the app’s behavior:</p>

<p><img src="/assets/cookbook/effects/PhotoFilterCarousel-0d26e484df1682f32e35e71f7340b0db6499e124425b5cf03a6afd363b98e7a6.gif" alt="Photo Filter Carousel" class="site-mobile-screenshot"></p>

<p>This recipe begins with the photo and filters
already in place. Filters are applied with the
<code class="language-plaintext highlighter-rouge">color</code> and <code class="language-plaintext highlighter-rouge">colorBlendMode</code> properties of the
<a href="https://api.flutter.dev/flutter/widgets/Image-class.html"><code class="language-plaintext highlighter-rouge">Image</code></a> widget].</p>

<h2 id="add-a-selector-ring-and-dark-gradient">
<a class="anchor" href="#add-a-selector-ring-and-dark-gradient" aria-hidden="true"><span class="octicon octicon-link"></span></a>Add a selector ring and dark gradient</h2>

<p>The selected filter circle is displayed within a
selector ring. Additionally, a dark gradient is
behind the available filters, which helps the contrast 
between the filters and any photo that you choose.</p>

<p>Create a new stateful widget called
<code class="language-plaintext highlighter-rouge">FilterSelector</code> that you’ll use to 
implement the selector.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@immutable</span>
<span class="kd">class</span> <span class="nc">FilterSelector</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
 <span class="kd">const</span> <span class="n">FilterSelector</span><span class="o">({</span>
   <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="o">,</span>
 <span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

 <span class="nd">@override</span>
 <span class="n">_FilterSelectorState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_FilterSelectorState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_FilterSelectorState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">FilterSelector</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">SizedBox</span><span class="o">();</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Add the <code class="language-plaintext highlighter-rouge">FilterSelector</code> widget to the existing
widget tree. Position the <code class="language-plaintext highlighter-rouge">FilterSelector</code> widget
on top of the photo, at the bottom and centered.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stack</span><span class="o">(</span>
 <span class="nl">children:</span> <span class="o">[</span>
   <span class="n">Positioned</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span>
     <span class="nl">child:</span> <span class="n">_buildPhotoWithFilter</span><span class="o">(),</span>
   <span class="o">),</span>
   <span class="n">Positioned</span><span class="o">(</span>
     <span class="nl">left:</span> <span class="mf">0.0</span><span class="o">,</span>
     <span class="nl">right:</span> <span class="mf">0.0</span><span class="o">,</span>
     <span class="nl">bottom:</span> <span class="mf">0.0</span><span class="o">,</span>
     <span class="nl">child:</span> <span class="n">FilterSelector</span><span class="o">(),</span>
   <span class="o">),</span>
 <span class="o">],</span>
<span class="o">),</span>
</code></pre></div></div>

<p>Within the <code class="language-plaintext highlighter-rouge">FilterSelector</code> widget,
display a selector ring on top of a 
dark gradient by using a <code class="language-plaintext highlighter-rouge">Stack</code> widget.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">_FilterSelectorState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">FilterSelector</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="kd">static</span> <span class="kd">const</span> <span class="n">_filtersPerScreen</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
 <span class="kd">static</span> <span class="kd">const</span> <span class="n">_viewportFractionPerItem</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">_filtersPerScreen</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">LayoutBuilder</span><span class="o">(</span>
     <span class="nl">builder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">constraints</span><span class="o">)</span> <span class="o">{</span>
       <span class="kd">final</span> <span class="n">itemSize</span> <span class="o">=</span> <span class="n">constraints</span><span class="o">.</span><span class="na">maxWidth</span> <span class="o">*</span> <span class="n">_viewportFractionPerItem</span><span class="o">;</span>

       <span class="k">return</span> <span class="n">Stack</span><span class="o">(</span>
         <span class="nl">alignment:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">bottomCenter</span><span class="o">,</span>
         <span class="nl">children:</span> <span class="o">[</span>
           <span class="n">_buildShadowGradient</span><span class="o">(</span><span class="n">itemSize</span><span class="o">),</span>
           <span class="n">_buildSelectionRing</span><span class="o">(</span><span class="n">itemSize</span><span class="o">),</span>
         <span class="o">],</span>
       <span class="o">);</span>
     <span class="o">},</span>
   <span class="o">);</span>
 <span class="o">}</span>

 <span class="n">Widget</span> <span class="n">_buildShadowGradient</span><span class="o">(</span><span class="kt">double</span> <span class="n">itemSize</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">SizedBox</span><span class="o">(</span>
     <span class="nl">height:</span> <span class="n">itemSize</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">widget</span><span class="o">.</span><span class="na">padding</span><span class="o">.</span><span class="na">vertical</span><span class="o">,</span>
     <span class="nl">child:</span> <span class="kd">const</span> <span class="n">DecoratedBox</span><span class="o">(</span>
       <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="o">(</span>
         <span class="nl">gradient:</span> <span class="n">LinearGradient</span><span class="o">(</span>
           <span class="nl">begin:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">topCenter</span><span class="o">,</span>
           <span class="nl">end:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">bottomCenter</span><span class="o">,</span>
           <span class="nl">colors:</span> <span class="o">[</span>
             <span class="n">Colors</span><span class="o">.</span><span class="na">transparent</span><span class="o">,</span>
             <span class="n">Colors</span><span class="o">.</span><span class="na">black</span><span class="o">,</span>
           <span class="o">],</span>
         <span class="o">),</span>
       <span class="o">),</span>
       <span class="nl">child:</span> <span class="n">SizedBox</span><span class="o">.</span><span class="na">expand</span><span class="o">(),</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>

 <span class="n">Widget</span> <span class="n">_buildSelectionRing</span><span class="o">(</span><span class="kt">double</span> <span class="n">itemSize</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">IgnorePointer</span><span class="o">(</span>
     <span class="nl">child:</span> <span class="n">Padding</span><span class="o">(</span>
       <span class="nl">padding:</span> <span class="n">widget</span><span class="o">.</span><span class="na">padding</span><span class="o">,</span>
       <span class="nl">child:</span> <span class="n">SizedBox</span><span class="o">(</span>
         <span class="nl">width:</span> <span class="n">itemSize</span><span class="o">,</span>
         <span class="nl">height:</span> <span class="n">itemSize</span><span class="o">,</span>
         <span class="nl">child:</span> <span class="kd">const</span> <span class="n">DecoratedBox</span><span class="o">(</span>
           <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="o">(</span>
             <span class="nl">shape:</span> <span class="n">BoxShape</span><span class="o">.</span><span class="na">circle</span><span class="o">,</span>
             <span class="nl">border:</span> <span class="n">Border</span><span class="o">.</span><span class="na">fromBorderSide</span><span class="o">(</span>
               <span class="n">BorderSide</span><span class="o">(</span><span class="nl">width:</span> <span class="mf">6.0</span><span class="o">,</span> <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">),</span>
             <span class="o">),</span>
           <span class="o">),</span>
         <span class="o">),</span>
       <span class="o">),</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The size of the selector circle and the background gradient
depends on the size of an individual filter in the carousel
called <code class="language-plaintext highlighter-rouge">itemSize</code>. The <code class="language-plaintext highlighter-rouge">itemSize</code> depends on the available width.
Therefore, a <code class="language-plaintext highlighter-rouge">LayoutBuilder</code> widget is used to determine the
available space, and then you calculate the size of an 
individual filter’s <code class="language-plaintext highlighter-rouge">itemSize</code>.</p>

<p>The selector ring includes an <code class="language-plaintext highlighter-rouge">IgnorePointer</code> widget
because when carousel interactivity is added,
the selector ring shouldn’t interfere with 
tap and drag events.</p>

<h2 id="create-a-filter-carousel-item">
<a class="anchor" href="#create-a-filter-carousel-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create a filter carousel item</h2>

<p>Each filter item in the carousel displays a
circular image with a color applied to the image
that corresponds to the associated filter color.</p>

<p>Define a new stateless widget called <code class="language-plaintext highlighter-rouge">FilterItem</code>
that displays a single list item.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@immutable</span>
<span class="kd">class</span> <span class="nc">FilterItem</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
 <span class="n">FilterItem</span><span class="o">({</span>
   <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="o">,</span>
   <span class="n">required</span> <span class="k">this</span><span class="o">.</span><span class="na">color</span><span class="o">,</span>
   <span class="k">this</span><span class="o">.</span><span class="na">onFilterSelected</span><span class="o">,</span>
 <span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

 <span class="kd">final</span> <span class="n">Color</span> <span class="n">color</span><span class="o">;</span>
 <span class="kd">final</span> <span class="n">VoidCallback</span><span class="o">?</span> <span class="n">onFilterSelected</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">GestureDetector</span><span class="o">(</span>
     <span class="nl">onTap:</span> <span class="n">onFilterSelected</span><span class="o">,</span>
     <span class="nl">child:</span> <span class="n">AspectRatio</span><span class="o">(</span>
       <span class="nl">aspectRatio:</span> <span class="mf">1.0</span><span class="o">,</span>
       <span class="nl">child:</span> <span class="n">Padding</span><span class="o">(</span>
         <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="o">(</span><span class="mf">8.0</span><span class="o">),</span>
         <span class="nl">child:</span> <span class="n">ClipOval</span><span class="o">(</span>
           <span class="nl">child:</span> <span class="n">Image</span><span class="o">.</span><span class="na">network</span><span class="o">(</span>
             <span class="s">'https://flutter.dev/docs/cookbook/img-files'</span>
             <span class="s">'/effects/instagram-buttons/millenial-texture.jpg'</span><span class="o">,</span>
             <span class="nl">color:</span> <span class="n">color</span><span class="o">.</span><span class="na">withOpacity</span><span class="o">(</span><span class="mf">0.5</span><span class="o">),</span>
             <span class="nl">colorBlendMode:</span> <span class="n">BlendMode</span><span class="o">.</span><span class="na">hardLight</span><span class="o">,</span>
           <span class="o">),</span>
         <span class="o">),</span>
       <span class="o">),</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="implement-the-filter-carousel">
<a class="anchor" href="#implement-the-filter-carousel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Implement the filter carousel</h2>

<p>Filter items scroll to the left and right as the user drags. Scrolling requires 
some kind of <code class="language-plaintext highlighter-rouge">Scrollable</code> widget.</p>

<p>You might consider using a horizontal <code class="language-plaintext highlighter-rouge">ListView</code> widget,
but a <code class="language-plaintext highlighter-rouge">ListView</code> widget positions the first element at the
beginning of the available space, not at 
the center, where your selector ring sits.</p>

<p>A <code class="language-plaintext highlighter-rouge">PageView</code> widget is better suited for a carousel.
A <code class="language-plaintext highlighter-rouge">PageView</code> widget lays out its children from the
center of the available space and provides snapping physics.
Snapping physics is what causes an item to snap to the center, 
no matter where the user releases a drag.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i> <strong>Note:</strong>
  In cases where you need to customize the
  position of child widgets within a scrollable area,
  consider using a <a href="https://api.flutter.dev/flutter/widgets/Scrollable-class.html"><code class="language-plaintext highlighter-rouge">Scrollable</code></a> widget with a 
  <a href="https://api.flutter.dev/flutter/widgets/Scrollable/viewportBuilder.html"><code class="language-plaintext highlighter-rouge">viewportBuilder</code></a>, and place a
  <a href="https://api.flutter.dev/flutter/widgets/Flow-class.html"><code class="language-plaintext highlighter-rouge">Flow</code></a> widget inside the <code class="language-plaintext highlighter-rouge">viewportBuilder</code>. 
  The <code class="language-plaintext highlighter-rouge">Flow</code> widget has a <a href="https://api.flutter.dev/flutter/widgets/Flow/delegate.html">delegate property</a>
  that allows you to position child widgets wherever
  you want, based on the current <code class="language-plaintext highlighter-rouge">viewportOffset</code>.</p>
</aside>

<p>Configure your widget tree to make space for the <code class="language-plaintext highlighter-rouge">PageView</code>.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@override</span>
<span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
 <span class="k">return</span> <span class="n">LayoutBuilder</span><span class="o">(</span><span class="nl">builder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">constraints</span><span class="o">)</span> <span class="o">{</span>
   <span class="kd">final</span> <span class="n">itemSize</span> <span class="o">=</span> <span class="n">constraints</span><span class="o">.</span><span class="na">maxWidth</span> <span class="o">*</span> <span class="n">_viewportFractionPerItem</span><span class="o">;</span>

   <span class="k">return</span> <span class="n">Stack</span><span class="o">(</span>
     <span class="nl">alignment:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">bottomCenter</span><span class="o">,</span>
     <span class="nl">children:</span> <span class="o">[</span>
       <span class="n">_buildShadowGradient</span><span class="o">(</span><span class="n">itemSize</span><span class="o">),</span>
       <span class="n">_buildCarousel</span><span class="o">(</span><span class="n">itemSize</span><span class="o">),</span>
       <span class="n">_buildSelectionRing</span><span class="o">(</span><span class="n">itemSize</span><span class="o">),</span>
     <span class="o">],</span>
   <span class="o">);</span>
 <span class="o">});</span>
<span class="o">}</span>

<span class="n">Widget</span> <span class="nf">_buildCarousel</span><span class="p">(</span><span class="kt">double</span> <span class="n">itemSize</span><span class="o">)</span> <span class="o">{</span>
 <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
   <span class="nl">height:</span> <span class="n">itemSize</span><span class="o">,</span>
   <span class="nl">margin:</span> <span class="n">widget</span><span class="o">.</span><span class="na">padding</span><span class="o">,</span>
   <span class="nl">child:</span> <span class="n">PageView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
     <span class="nl">itemCount:</span> <span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">.</span><span class="na">length</span><span class="o">,</span>
     <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
       <span class="k">return</span> <span class="n">SizedBox</span><span class="o">();</span>
     <span class="o">},</span>
   <span class="o">),</span>
 <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Build each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget within the
<code class="language-plaintext highlighter-rouge">PageView</code> widget based on the given <code class="language-plaintext highlighter-rouge">index</code>.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Color</span> <span class="nf">itemColor</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">[</span><span class="n">index</span> <span class="o">%</span> <span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>

<span class="n">Widget</span> <span class="nf">_buildCarousel</span><span class="p">(</span><span class="kt">double</span> <span class="n">itemSize</span><span class="o">)</span> <span class="o">{</span>
 <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
   <span class="nl">height:</span> <span class="n">itemSize</span><span class="o">,</span>
   <span class="nl">margin:</span> <span class="n">widget</span><span class="o">.</span><span class="na">padding</span><span class="o">,</span>
   <span class="nl">child:</span> <span class="n">PageView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
     <span class="nl">itemCount:</span> <span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">.</span><span class="na">length</span><span class="o">,</span>
     <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
       <span class="k">return</span> <span class="n">Center</span><span class="o">(</span>
         <span class="nl">child:</span> <span class="n">FilterItem</span><span class="o">(</span>
           <span class="nl">color:</span> <span class="n">itemColor</span><span class="o">(</span><span class="n">index</span><span class="o">),</span>
           <span class="nl">onFilterSelected:</span> <span class="o">()</span> <span class="o">{},</span>
         <span class="o">),</span>
       <span class="o">);</span>
     <span class="o">},</span>
   <span class="o">),</span>
 <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">PageView</code> widget displays all of the <code class="language-plaintext highlighter-rouge">FilterItem</code>
widgets, and you can drag to the left and right.
However, right now each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget takes 
up the entire width of the screen,
and each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget is displayed 
at the same size and opacity. There should be
five <code class="language-plaintext highlighter-rouge">FilterItem</code> widgets on the screen,
and the <code class="language-plaintext highlighter-rouge">FilterItem</code> widgets need to shrink and
fade as they move farther from the center of the screen.</p>

<p>The solution to both of these issues is to introduce
a <code class="language-plaintext highlighter-rouge">PageViewController</code>. The <code class="language-plaintext highlighter-rouge">PageViewController</code>’s
<code class="language-plaintext highlighter-rouge">viewportFraction</code> property is used to display 
multiple <code class="language-plaintext highlighter-rouge">FilterItem</code> widgets on the screen at
the same time. Rebuilding each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget
as the <code class="language-plaintext highlighter-rouge">PageViewController</code> changes allows you to 
change each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget’s size and opacity
as the user scrolls.</p>

<p>Create a <code class="language-plaintext highlighter-rouge">PageViewController</code> and connect it to the
<code class="language-plaintext highlighter-rouge">PageView</code> widget.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">_FilterSelectorState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">FilterSelector</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="n">late</span> <span class="kd">final</span> <span class="n">PageController</span> <span class="n">_controller</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="kt">void</span> <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
   <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
   <span class="n">_controller</span> <span class="o">=</span> <span class="n">PageController</span><span class="o">(</span>
     <span class="nl">viewportFraction:</span> <span class="n">_viewportFractionPerItem</span><span class="o">,</span>
   <span class="o">);</span>
   <span class="n">_controller</span><span class="o">.</span><span class="na">addListener</span><span class="o">(</span><span class="n">_onPageChanged</span><span class="o">);</span>
 <span class="o">}</span>

 <span class="kt">void</span> <span class="n">_onPageChanged</span><span class="o">()</span> <span class="o">{</span>
   <span class="kd">final</span> <span class="n">page</span> <span class="o">=</span> <span class="o">(</span><span class="n">_controller</span><span class="o">.</span><span class="na">page</span> <span class="o">??</span> <span class="mi">0</span><span class="o">).</span><span class="na">round</span><span class="o">();</span>
   <span class="n">widget</span><span class="o">.</span><span class="na">onFilterChanged</span><span class="o">(</span><span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">[</span><span class="n">page</span><span class="o">]);</span>
 <span class="o">}</span>

 <span class="nd">@override</span>
 <span class="kt">void</span> <span class="n">dispose</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">_controller</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
   <span class="k">super</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
 <span class="o">}</span>

 <span class="n">Widget</span> <span class="n">_buildCarousel</span><span class="o">(</span><span class="kt">double</span> <span class="n">itemSize</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
     <span class="nl">height:</span> <span class="n">itemSize</span><span class="o">,</span>
     <span class="nl">margin:</span> <span class="n">widget</span><span class="o">.</span><span class="na">padding</span><span class="o">,</span>
     <span class="nl">child:</span> <span class="n">PageView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
       <span class="nl">controller:</span> <span class="n">_controller</span><span class="o">,</span>
       <span class="nl">itemCount:</span> <span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">.</span><span class="na">length</span><span class="o">,</span>
       <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
         <span class="k">return</span> <span class="n">Center</span><span class="o">(</span>
           <span class="nl">child:</span> <span class="n">FilterItem</span><span class="o">(</span>
             <span class="nl">color:</span> <span class="n">itemColor</span><span class="o">(</span><span class="n">index</span><span class="o">),</span>
             <span class="nl">onFilterSelected:</span> <span class="o">()</span> <span class="o">{},</span>
           <span class="o">),</span>
         <span class="o">);</span>
       <span class="o">},</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>With the <code class="language-plaintext highlighter-rouge">PageViewController</code> added, five <code class="language-plaintext highlighter-rouge">FilterItem</code>
widgets are visible on the screen at the same time,
and the photo filter changes as you scroll, but 
the <code class="language-plaintext highlighter-rouge">FilterItem</code> widgets are still the same size.</p>

<p>Wrap each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget with an <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code>
to change the visual properties of each <code class="language-plaintext highlighter-rouge">FilterItem</code>
widget as the scroll position changes.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">_buildCarousel</span><span class="p">(</span><span class="kt">double</span> <span class="n">itemSize</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
    <span class="nl">height:</span> <span class="n">itemSize</span><span class="o">,</span>
    <span class="nl">margin:</span> <span class="n">widget</span><span class="o">.</span><span class="na">padding</span><span class="o">,</span>
    <span class="nl">child:</span> <span class="n">PageView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
      <span class="nl">controller:</span> <span class="n">_controller</span><span class="o">,</span>
      <span class="nl">itemCount:</span> <span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">.</span><span class="na">length</span><span class="o">,</span>
      <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Center</span><span class="o">(</span>
          <span class="nl">child:</span> <span class="n">AnimatedBuilder</span><span class="o">(</span>
            <span class="nl">animation:</span> <span class="n">_controller</span><span class="o">,</span>
            <span class="nl">builder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">child</span><span class="o">)</span> <span class="o">{</span>
              <span class="k">return</span> <span class="n">FilterItem</span><span class="o">(</span>
                <span class="nl">color:</span> <span class="n">itemColor</span><span class="o">(</span><span class="n">index</span><span class="o">),</span>
                <span class="nl">onFilterSelected:</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="o">{},</span>
              <span class="o">);</span>
            <span class="o">},</span>
          <span class="o">),</span>
        <span class="o">);</span>
      <span class="o">},</span>
    <span class="o">),</span>
  <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> widget rebuilds every time the
<code class="language-plaintext highlighter-rouge">_controller</code> changes its scroll position.
These rebuilds allow you to change the <code class="language-plaintext highlighter-rouge">FilterItem</code>
size and opacity as the user drags.</p>

<p>Calculate an appropriate scale and opacity for each
<code class="language-plaintext highlighter-rouge">FilterItem</code> widget within the <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> and
apply those values.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">_buildCarousel</span><span class="p">(</span><span class="kt">double</span> <span class="n">itemSize</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Container</span><span class="o">(</span>
    <span class="nl">height:</span> <span class="n">itemSize</span><span class="o">,</span>
    <span class="nl">margin:</span> <span class="n">widget</span><span class="o">.</span><span class="na">padding</span><span class="o">,</span>
    <span class="nl">child:</span> <span class="n">PageView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
      <span class="nl">controller:</span> <span class="n">_controller</span><span class="o">,</span>
      <span class="nl">itemCount:</span> <span class="n">widget</span><span class="o">.</span><span class="na">filters</span><span class="o">.</span><span class="na">length</span><span class="o">,</span>
      <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Center</span><span class="o">(</span>
          <span class="nl">child:</span> <span class="n">AnimatedBuilder</span><span class="o">(</span>
            <span class="nl">animation:</span> <span class="n">_controller</span><span class="o">,</span>
            <span class="nl">builder:</span> <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">child</span><span class="o">)</span> <span class="o">{</span>
              <span class="k">if</span> <span class="o">(!</span><span class="n">_controller</span><span class="o">.</span><span class="na">hasClients</span> <span class="o">||</span>
                <span class="o">!</span><span class="n">_controller</span><span class="o">.</span><span class="na">position</span><span class="o">.</span><span class="na">hasContentDimensions</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// The PageViewController isn’t connected to the</span>
                <span class="c1">// PageView widget yet. Return an empty box.</span>
                <span class="k">return</span> <span class="n">SizedBox</span><span class="o">();</span>
              <span class="o">}</span>

              <span class="c1">// The integer index of the current page,</span>
              <span class="c1">// 0, 1, 2, 3, and so on</span>
              <span class="kd">final</span> <span class="n">selectedIndex</span> <span class="o">=</span> <span class="n">_controller</span><span class="o">.</span><span class="na">page</span><span class="o">!.</span><span class="na">roundToDouble</span><span class="o">();</span>

              <span class="c1">// The fractional amount that the current filter</span>
              <span class="c1">// is dragged to the left or right, for example, 0.25 when</span>
              <span class="c1">// the current filter is dragged 25% to the left.</span>
              <span class="kd">final</span> <span class="n">pageScrollAmount</span> <span class="o">=</span> <span class="n">_controller</span><span class="o">.</span><span class="na">page</span><span class="o">!</span> <span class="o">-</span> <span class="n">selectedIndex</span><span class="o">;</span>

              <span class="c1">// The page-distance of a filter just before it</span>
              <span class="c1">// moves off-screen.</span>
              <span class="kd">final</span> <span class="n">maxScrollDistance</span> <span class="o">=</span> <span class="n">_filtersPerScreen</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>

              <span class="c1">// The page-distance of this filter item from the</span>
              <span class="c1">// currently selected filter item.</span>
              <span class="kd">final</span> <span class="n">pageDistanceFromSelected</span> <span class="o">=</span>
   <span class="o">(</span><span class="n">selectedIndex</span> <span class="o">-</span> <span class="n">index</span> <span class="o">+</span> <span class="n">pageScrollAmount</span><span class="o">).</span><span class="na">abs</span><span class="o">();</span>

              <span class="c1">// The distance of this filter item from the</span>
              <span class="c1">// center of the carousel as a percentage, that is, where the selector</span>
              <span class="c1">// ring sits.</span>
              <span class="kd">final</span> <span class="n">percentFromCenter</span> <span class="o">=</span>
   <span class="mf">1.0</span> <span class="o">-</span> <span class="n">pageDistanceFromSelected</span> <span class="o">/</span> <span class="n">maxScrollDistance</span><span class="o">;</span>

              <span class="kd">final</span> <span class="n">itemScale</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="o">(</span><span class="n">percentFromCenter</span> <span class="o">*</span> <span class="mf">0.5</span><span class="o">);</span>
              <span class="kd">final</span> <span class="n">opacity</span> <span class="o">=</span> <span class="mf">0.25</span> <span class="o">+</span> <span class="o">(</span><span class="n">percentFromCenter</span> <span class="o">*</span> <span class="mf">0.75</span><span class="o">);</span>

              <span class="k">return</span> <span class="n">Transform</span><span class="o">.</span><span class="na">scale</span><span class="o">(</span>
                <span class="nl">scale:</span> <span class="n">itemScale</span><span class="o">,</span>
                <span class="nl">child:</span> <span class="n">Opacity</span><span class="o">(</span>
                  <span class="nl">opacity:</span> <span class="n">opacity</span><span class="o">,</span>
                  <span class="nl">child:</span> <span class="n">FilterItem</span><span class="o">(</span>
                    <span class="nl">color:</span> <span class="n">itemColor</span><span class="o">(</span><span class="n">index</span><span class="o">),</span>
                    <span class="nl">onFilterSelected:</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="o">()</span> <span class="o">{},</span>
                  <span class="o">),</span>
                <span class="o">),</span>
              <span class="o">);</span>
            <span class="o">},</span>
          <span class="o">),</span>
        <span class="o">);</span>
      <span class="o">},</span>
    <span class="o">),</span>
  <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget now shrinks and fades
away as it moves farther from the center of the screen.</p>

<p>Add a method to change the selected filter when a
<code class="language-plaintext highlighter-rouge">FilterItem</code> widget is tapped.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">_onFilterTapped</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
 <span class="n">_controller</span><span class="o">.</span><span class="na">animateToPage</span><span class="o">(</span>
   <span class="n">index</span><span class="o">,</span>
   <span class="nl">duration:</span> <span class="kd">const</span> <span class="n">Duration</span><span class="o">(</span><span class="nl">milliseconds:</span> <span class="mi">450</span><span class="o">),</span>
   <span class="nl">curve:</span> <span class="n">Curves</span><span class="o">.</span><span class="na">ease</span><span class="o">,</span>
 <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Configure each <code class="language-plaintext highlighter-rouge">FilterItem</code> widget to invoke
<code class="language-plaintext highlighter-rouge">_onFilterTapped</code> when tapped.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">FilterItem</span><span class="o">(</span>
  <span class="nl">color:</span> <span class="n">itemColor</span><span class="o">(</span><span class="n">index</span><span class="o">),</span>
  <span class="nl">onFilterSelected:</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_onFilterTapped</span><span class="o">,</span>
<span class="o">)</span>
</code></pre></div></div>

<p>Congratulations!
You now have a draggable, tappable photo filter carousel.</p>

<h2 id="interactive-example">
<a class="anchor" href="#interactive-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Interactive example</h2>

<!--skip-->
<pre><code class="language-run-dartpad:theme-light:mode-flutter:run-true:width-100%:height-600px:split-60:ga_id-interactive_example:null_safety-true">import 'dart:math' as math;

import 'package:flutter/material.dart';
import 'package:flutter/rendering.dart' show ViewportOffset;

void main() {
  runApp(
    MaterialApp(
      home: const ExampleInstagramFilterSelection(),
      debugShowCheckedModeBanner: false,
    ),
  );
}

@immutable
class ExampleInstagramFilterSelection extends StatefulWidget {
  const ExampleInstagramFilterSelection({Key? key}) : super(key: key);

  @override
  _ExampleInstagramFilterSelectionState createState() =&gt;
      _ExampleInstagramFilterSelectionState();
}

class _ExampleInstagramFilterSelectionState
    extends State&lt;ExampleInstagramFilterSelection&gt; {
  final _filters = [
    Colors.white,
    ...List.generate(
      Colors.primaries.length,
      (index) =&gt; Colors.primaries[(index * 4) % Colors.primaries.length],
    )
  ];

  final _filterColor = ValueNotifier&lt;Color&gt;(Colors.white);

  void _onFilterChanged(Color value) {
    _filterColor.value = value;
  }

  @override
  Widget build(BuildContext context) {
    return Material(
      color: Colors.black,
      child: Stack(
        children: [
          Positioned.fill(
            child: _buildPhotoWithFilter(),
          ),
          Positioned(
            left: 0.0,
            right: 0.0,
            bottom: 0.0,
            child: _buildFilterSelector(),
          ),
        ],
      ),
    );
  }

  Widget _buildPhotoWithFilter() {
    return ValueListenableBuilder(
      valueListenable: _filterColor,
      builder: (context, value, child) {
        final color = value as Color;
        return Image.network(
          'https://flutter.dev/docs/cookbook/img-files/effects/instagram-buttons/millenial-dude.jpg',
          color: color.withOpacity(0.5),
          colorBlendMode: BlendMode.color,
          fit: BoxFit.cover,
        );
      },
    );
  }

  Widget _buildFilterSelector() {
    return FilterSelector(
      onFilterChanged: _onFilterChanged,
      filters: _filters,
    );
  }
}

@immutable
class FilterSelector extends StatefulWidget {
  const FilterSelector({
    Key? key,
    required this.filters,
    required this.onFilterChanged,
    this.padding = const EdgeInsets.symmetric(vertical: 24.0),
  }) : super(key: key);

  final List&lt;Color&gt; filters;
  final void Function(Color selectedColor) onFilterChanged;
  final EdgeInsets padding;

  @override
  _FilterSelectorState createState() =&gt; _FilterSelectorState();
}

class _FilterSelectorState extends State&lt;FilterSelector&gt; {
  static const _filtersPerScreen = 5;
  static const _viewportFractionPerItem = 1.0 / _filtersPerScreen;

  late final PageController _controller;
  late int _page;

  int get filterCount =&gt; widget.filters.length;

  Color itemColor(int index) =&gt; widget.filters[index % filterCount];

  @override
  void initState() {
    super.initState();
    _page = 0;
    _controller = PageController(
      initialPage: _page,
      viewportFraction: _viewportFractionPerItem,
    );
    _controller.addListener(_onPageChanged);
  }

  void _onPageChanged() {
    final page = (_controller.page ?? 0).round();
    if (page != _page) {
      _page = page;
      widget.onFilterChanged(widget.filters[page]);
    }
  }

  void _onFilterTapped(int index) {
    _controller.animateToPage(
      index,
      duration: const Duration(milliseconds: 450),
      curve: Curves.ease,
    );
  }

  @override
  void dispose() {
    _controller.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Scrollable(
      controller: _controller,
      axisDirection: AxisDirection.right,
      physics: PageScrollPhysics(),
      viewportBuilder: (context, viewportOffset) {
        return LayoutBuilder(
          builder: (context, constraints) {
            final itemSize = constraints.maxWidth * _viewportFractionPerItem;
            viewportOffset
              ..applyViewportDimension(constraints.maxWidth)
              ..applyContentDimensions(0.0, itemSize * (filterCount - 1));

            return Stack(
              alignment: Alignment.bottomCenter,
              children: [
                _buildShadowGradient(itemSize),
                _buildCarousel(
                  viewportOffset: viewportOffset,
                  itemSize: itemSize,
                ),
                _buildSelectionRing(itemSize),
              ],
            );
          },
        );
      },
    );
  }

  Widget _buildShadowGradient(double itemSize) {
    return SizedBox(
      height: itemSize * 2 + widget.padding.vertical,
      child: const DecoratedBox(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              Colors.transparent,
              Colors.black,
            ],
          ),
        ),
        child: SizedBox.expand(),
      ),
    );
  }

  Widget _buildCarousel({
    required ViewportOffset viewportOffset,
    required double itemSize,
  }) {
    return Container(
      height: itemSize,
      margin: widget.padding,
      child: Flow(
        delegate: CarouselFlowDelegate(
          viewportOffset: viewportOffset,
          filtersPerScreen: _filtersPerScreen,
        ),
        children: [
          for (int i = 0; i &lt; filterCount; i++)
            FilterItem(
              onFilterSelected: () =&gt; _onFilterTapped(i),
              color: itemColor(i),
            ),
        ],
      ),
    );
  }

  Widget _buildSelectionRing(double itemSize) {
    return IgnorePointer(
      child: Padding(
        padding: widget.padding,
        child: SizedBox(
          width: itemSize,
          height: itemSize,
          child: const DecoratedBox(
            decoration: BoxDecoration(
              shape: BoxShape.circle,
              border: Border.fromBorderSide(
                BorderSide(width: 6.0, color: Colors.white),
              ),
            ),
          ),
        ),
      ),
    );
  }
}

class CarouselFlowDelegate extends FlowDelegate {
  CarouselFlowDelegate({
    required this.viewportOffset,
    required this.filtersPerScreen,
  }) : super(repaint: viewportOffset);

  final ViewportOffset viewportOffset;
  final int filtersPerScreen;

  @override
  void paintChildren(FlowPaintingContext context) {
    final count = context.childCount;

    // All available painting width
    final size = context.size.width;

    // The distance that a single item "page" takes up from the perspective
    // of the scroll paging system. We also use this size for the width and
    // height of a single item.
    final itemExtent = size / filtersPerScreen;

    // The current scroll position expressed as an item fraction, e.g., 0.0,
    // or 1.0, or 1.3, or 2.9, etc. A value of 1.3 indicates that item at
    // index 1 is active, and the user has scrolled 30% towards the item at
    // index 2.
    final active = viewportOffset.pixels / itemExtent;

    // Index of the first item we need to paint at this moment.
    // At most, we paint 3 items to the left of the active item.
    final min = math.max(0, active.floor() - 3).toInt();

    // Index of the last item we need to paint at this moment.
    // At most, we paint 3 items to the right of the active item.
    final max = math.min(count - 1, active.ceil() + 3).toInt();

    // Generate transforms for the visible items and sort by distance.
    for (var index = min; index &lt;= max; index++) {
      final itemXFromCenter = itemExtent * index - viewportOffset.pixels;
      final percentFromCenter = 1.0 - (itemXFromCenter / (size / 2)).abs();
      final itemScale = 0.5 + (percentFromCenter * 0.5);
      final opacity = 0.25 + (percentFromCenter * 0.75);

      final itemTransform = Matrix4.identity()
        ..translate((size - itemExtent) / 2)
        ..translate(itemXFromCenter)
        ..translate(itemExtent / 2, itemExtent / 2)
        ..multiply(Matrix4.diagonal3Values(itemScale, itemScale, 1.0))
        ..translate(-itemExtent / 2, -itemExtent / 2);

      context.paintChild(
        index,
        transform: itemTransform,
        opacity: opacity,
      );
    }
  }

  @override
  bool shouldRepaint(covariant CarouselFlowDelegate oldDelegate) {
    return oldDelegate.viewportOffset != viewportOffset;
  }
}

@immutable
class FilterItem extends StatelessWidget {
  FilterItem({
    Key? key,
    required this.color,
    this.onFilterSelected,
  }) : super(key: key);

  final Color color;
  final VoidCallback? onFilterSelected;

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: onFilterSelected,
      child: AspectRatio(
        aspectRatio: 1.0,
        child: Padding(
          padding: const EdgeInsets.all(8.0),
          child: ClipOval(
            child: Image.network(
              'https://flutter.dev/docs/cookbook/img-files/effects/instagram-buttons/millenial-texture.jpg',
              color: color.withOpacity(0.5),
              colorBlendMode: BlendMode.hardLight,
            ),
          ),
        ),
      ),
    );
  }
}
</code></pre>


        <nav class="site-nextprev-nav">
    <ul>
      <li class="prev">
          <a href="/docs/cookbook/effects/nested-nav">Create a nested navigation flow</a>
      </li>
      <li class="next">
          <a href="/docs/cookbook/effects/parallax-scrolling">Create a scrolling parallax effect</a>
      </li>
      </ul>
  </nav>

      </div>
    </main>
  </div>
</div>


    <footer class="site-footer">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 site-footer__wrapper">
        <div class="site-footer__logo">
          <img src="/images/flutter-mono-81x100.png" alt="Flutter Logo" width="81" height="100">
        </div>
        <div class="site-footer__content">
          <ul class="site-footer__link-list">
              <li><a href="https://groups.google.com/forum/#!forum/flutter-dev">flutter-dev@</a></li>
              <li><a href="/tos">terms</a></li>
              <li><a href="/brand">brand usage</a></li>
              <li><a href="/security">security</a></li>
              <li><a href="https://www.google.com/intl/en/policies/privacy">privacy</a></li>
              <li><a href="https://esflutter.dev/">español</a></li>
              <li><a href="https://flutter.cn" class="text-nowrap">社区中文资源</a></li> 
              <li><a href="https://flutter-ko.dev/" class="text-nowrap">한국어</a></li>
              <li><a href="https://blog.google/inside-google/company-announcements/standing-with-black-community">We stand in solidarity with the Black community. Black Lives Matter.</a></li>
          </ul>

          <p class="licenses">
            Except as otherwise noted,
            this work is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0">Creative
            Commons Attribution 4.0 International License</a>,
            and code samples are licensed under the BSD License.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

    
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=at3ul57xpub2vk3oxt2ytw365i"></script>
  </body>
</html>
