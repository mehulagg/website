<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Create a shimmer loading effect  - Flutter </title>
  <link rel="shortcut icon" href="/images/favicon.png">

  <!-- Google Optimize -->
  <script src="https://www.googleoptimize.com/optimize.js?id=GTM-MPZP6R8"></script>
  <!-- End Google Optimize -->

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-ND4LWWZ');</script>
  <!-- End Google Tag Manager -->

  
  <meta name="description" content="How to implement a shimmer loading effect.">
  <meta name="keywords" content=" ">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@flutterdev">

  <meta property="og:title" content="Create a shimmer loading effect">
  <meta property="og:url" content="https://flutter.dev/docs/cookbook/effects/shimmer-loading">
  <meta property="og:description" content="How to implement a shimmer loading effect.">
  
  <meta property="og:image" content="https://flutter.dev/images/flutter-logo-sharing.png">

  <link href="https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:300,400,500|Roboto+Mono:400,700|Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/main-5179236d2a521f0d8c964446a1eaa9bee448793c298286381d5cbdc3f6776229.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
  <script src="/assets/main-3d1fe020941b4eb18d313f0eb6a8ff9fd170a0b3ed6913d333d804fec0136545.js" type="text/javascript"></script>
  <script defer src="https://dartpad.dev/inject_embed.dart.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67589403-1', 'auto');
    ga('send', 'pageview');
  </script>

  <meta name="google-site-verification" content="HFqxhSbf9YA_0rBglNLzDiWnrHiK_w4cqDh2YD2GEY4" />
  <meta name="google-site-verification" content="Zom-prnFykfYycmI_nzRWYx5r6Z9OwR-yEsgElRz_Ug" />
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-ND4LWWZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="overlay-under-drawer"></div>

    <header class="site-header">
  <nav class="navbar navbar-expand-md justify-content-start justify-content-md-between">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="material-icons">menu</i>
    </button>

    <a class="navbar-brand" href="/">
      <img alt="Flutter logo" height="37" width="129" class="align-middle" src="/assets/flutter-lockup-1caf6476beed76adec3c477586da54de6b552b2f42108ec5bc68dc63bae2df75.png">
    </a>

    <div class="collapse navbar-collapse flex-grow-0" id="navbarSupportedContent">
      <div class="site-header__sheet-bg" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"></div>
      <div class="site-header__sheet">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="/docs">Docs</a>
          </li>
          <div class="site-sidebar site-sidebar--header d-md-none">
            <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

          </div>

          <li class="nav-item">
            <a class="nav-link" href="/showcase">Showcase</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/community">Community</a>
          </li>
        </ul>
        <form action="/search/" class="site-header__search form-inline">
          <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
        </form>
      </div>
    </div>
    <div class="site-header__social navbar-nav flex-row">
      <a class="nav-item nav-link" href="https://twitter.com/flutterdev" aria-label="Twittter"><i class="fab fa-twitter fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://www.youtube.com/flutterdev" aria-label="YouTube"><i class="fab fa-youtube fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://github.com/flutter" aria-label="Github"><i class="fab fa-github fa-lg"></i></a>
    </div>
    <a class="site-header__cta btn btn-primary" href="/docs/get-started/install/">Get started</a>
    </nav>
</header>
<!---->
  
  <div class="site-banner site-banner--default" role="alert">
    Flutter's I/O schedule is live. <a href="http://goo.gle/io21-flutter-agenda-4">Learn more</a>.
  </div>
<div class="container-fluid position-relative">
  <div class="row flex-xl-nowrap">
    <div class="fixed-col site-sidebar site-sidebar--fixed col-12 col-md-3 col-xl-2 d-none d-md-block" data-fixed-column>
      <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

    </div>
    <div
  id="site-toc--side"
  class="site-toc site-toc--side fixed-col col-xl-2 order-3"
  data-fixed-column
>
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    </header>
  <ul class="section-nav nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#draw-the-shimmer-shapes">Draw the shimmer shapes</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#paint-the-shimmer-gradient">Paint the shimmer gradient</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#paint-one-big-shimmer">Paint one big shimmer</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#animate-the-shimmer">Animate the shimmer</a></li>
</ul>
</div>
<main class="site-content col-12 col-md-9 offset-md-3 col-xl-8 offset-xl-2 col-xxl-8 offset-xxl-2" role="main">
      <div class="container">
        
        <nav class="site-nextprev-nav">
    <ul>
      <li class="prev">
          <a href="/docs/cookbook/effects/parallax-scrolling">Create a scrolling parallax effect</a>
      </li>
      <li class="next">
          <a href="/docs/cookbook/effects/staggered-menu-animation">Create a staggered menu animation</a>
      </li>
      </ul>
  </nav>

        <header class="site-content__title">
          <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/flutter/website/tree/master/src/docs/cookbook/effects/shimmer-loading.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/flutter/website/issues/new?title='Create a shimmer loading effect' page issue&body=
Page URL: https://flutter.dev/docs/cookbook/effects/shimmer-loading.html%0D%0A
Page source: https://github.com/flutter/website/tree/master/src/docs/cookbook/effects/shimmer-loading.md%0D%0A
%0D%0A
Found a typo? You can fix it yourself by going to the page source and clicking the pencil icon. Or finish creating this issue.%0D%0A
%0D%0A
Description of issue:" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

          <h1>Create a shimmer loading effect</h1>
          

<nav aria-label="breadcrumb">
  <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs" property="item" typeof="WebPage"><span property="name">Docs</span>
      </a>
      <meta property="position" content="1" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/cookbook" property="item" typeof="WebPage"><span property="name">Cookbook</span>
      </a>
      <meta property="position" content="2" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/cookbook/effects" property="item" typeof="WebPage"><span property="name">Effects</span>
      </a>
      <meta property="position" content="3" />
    </li>
  <li class="breadcrumb-item active"
      property="itemListElement" typeof="ListItem" aria-current="page"><a href="/docs/cookbook/effects/shimmer-loading.html" property="item" typeof="WebPage"><span property="name">Create a shimmer loading effect</span>
      </a>
      <meta property="position" content="4" />
    </li>
  
  </ol>
</nav>
          </header>
        <div
  id="site-toc--inline"
  class="site-toc site-toc--inline "
  
>
  <header class="site-toc__title">
    Contents
    </header>
  <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#draw-the-shimmer-shapes">Draw the shimmer shapes</a></li>
<li class="toc-entry toc-h2"><a href="#paint-the-shimmer-gradient">Paint the shimmer gradient</a></li>
<li class="toc-entry toc-h2"><a href="#paint-one-big-shimmer">Paint one big shimmer</a></li>
<li class="toc-entry toc-h2"><a href="#animate-the-shimmer">Animate the shimmer</a></li>
</ul>
</div>
<p>Loading times are unavoidable in application development.
From a user experience (UX) perspective,
the most important thing is to show your users 
that loading is taking place. One popular approach
to communicate to users that data is loading is to
display a chrome color with a shimmer animation over 
the shapes that approximate the type of content that is loading.</p>

<p>The following animation shows the apps behavior:</p>

<p><img src="/assets/cookbook/effects/UILoadingAnimation-1d2d3b79d31436379724d8ef7ec5d138df5ec4252d002d5d667dbb40412a5fbf.gif" alt="Gif showing the UI loading" class="site-mobile-screenshot"></p>

<p>This recipe begins with the content widgets defined and positioned.
There is also a Floating Action Button (FAB) in the bottom-right
corner that toggles between a loading mode and a loaded mode
so that you can easily validate your implementation.</p>

<h2 id="draw-the-shimmer-shapes">
<a class="anchor" href="#draw-the-shimmer-shapes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Draw the shimmer shapes</h2>

<p>The shapes that shimmer in this effect are independent
from the actual content that eventually loads.</p>

<p>Therefore, the goal is to display shapes that represent 
the eventual content as accurately as possible.</p>

<p>Displaying accurate shapes is easy in situations where the
content has a clear boundary. For example, in this recipe,
there are some circular images and some rounded rectangle images.
You can draw shapes that precisely match the outlines 
of those images.</p>

<p>On the other hand, consider the text that appears beneath the
rounded rectangle images. You wont know how many lines of
text exist until the text loads. 
Therefore, there is no point in trying to draw a rectangle
for every line of text. Instead, while the data is loading,
you draw a couple of very thin rounded rectangles that
represent the text that will appear. The shape and size 
doesnt quite match, but that is OK.</p>

<p>Start with the circular list items at the top of the screen.
Ensure that each <code class="language-plaintext highlighter-rouge">CircleListItem</code> widget displays a circle
with a color while the image is loading.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">CircleListItem</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">Padding</span><span class="o">(</span>
     <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mi">8</span><span class="o">,</span> <span class="nl">vertical:</span> <span class="mi">8</span><span class="o">),</span>
     <span class="nl">child:</span> <span class="n">Container</span><span class="o">(</span>
       <span class="nl">width:</span> <span class="mi">54</span><span class="o">,</span>
       <span class="nl">height:</span> <span class="mi">54</span><span class="o">,</span>
       <span class="nl">decoration:</span> <span class="kd">const</span> <span class="n">BoxDecoration</span><span class="o">(</span>
         <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span><span class="o">,</span>
         <span class="nl">shape:</span> <span class="n">BoxShape</span><span class="o">.</span><span class="na">circle</span><span class="o">,</span>
       <span class="o">),</span>
       <span class="nl">child:</span> <span class="n">ClipOval</span><span class="o">(</span>
         <span class="nl">child:</span> <span class="n">Image</span><span class="o">.</span><span class="na">network</span><span class="o">(</span>
           <span class="s">'https://flutter'</span>
           <span class="s">'.dev/docs/cookbook/img-files/effects/split-check/Avatar1.jpg'</span><span class="o">,</span>
           <span class="nl">fit:</span> <span class="n">BoxFit</span><span class="o">.</span><span class="na">cover</span><span class="o">,</span>
         <span class="o">),</span>
       <span class="o">),</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>As long as your widgets display some kind of shape,
you can apply the shimmer effect in this recipe.</p>

<p>Similar to the <code class="language-plaintext highlighter-rouge">CircleListItem</code> widgets,
ensure that the <code class="language-plaintext highlighter-rouge">CardListItem</code> widgets 
display a color where the image will appear.
Also, in the <code class="language-plaintext highlighter-rouge">CardListItem</code> widget, 
switch between the display of the text and
the rectangles based on the current loading status.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">CardListItem</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="o">{</span>
 <span class="kd">const</span> <span class="n">CardListItem</span><span class="o">({</span>
   <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="o">,</span>
   <span class="n">required</span> <span class="k">this</span><span class="o">.</span><span class="na">isLoading</span><span class="o">,</span>
 <span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

 <span class="kd">final</span> <span class="kt">bool</span> <span class="n">isLoading</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">Padding</span><span class="o">(</span>
     <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mi">24</span><span class="o">,</span> <span class="nl">vertical:</span> <span class="mi">16</span><span class="o">),</span>
     <span class="nl">child:</span> <span class="n">Column</span><span class="o">(</span>
       <span class="nl">crossAxisAlignment:</span> <span class="n">CrossAxisAlignment</span><span class="o">.</span><span class="na">start</span><span class="o">,</span>
       <span class="nl">children:</span> <span class="o">[</span>
         <span class="n">_buildImage</span><span class="o">(),</span>
         <span class="kd">const</span> <span class="n">SizedBox</span><span class="o">(</span><span class="nl">height:</span> <span class="mi">16</span><span class="o">),</span>
         <span class="n">_buildText</span><span class="o">(),</span>
       <span class="o">],</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>

 <span class="n">Widget</span> <span class="n">_buildImage</span><span class="o">()</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">AspectRatio</span><span class="o">(</span>
     <span class="nl">aspectRatio:</span> <span class="mi">16</span> <span class="o">/</span> <span class="mi">9</span><span class="o">,</span>
     <span class="nl">child:</span> <span class="n">Container</span><span class="o">(</span>
       <span class="nl">width:</span> <span class="kt">double</span><span class="o">.</span><span class="na">infinity</span><span class="o">,</span>
       <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="o">(</span>
         <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span><span class="o">,</span>
         <span class="nl">borderRadius:</span> <span class="n">BorderRadius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mi">16</span><span class="o">),</span>
       <span class="o">),</span>
       <span class="nl">child:</span> <span class="n">ClipRRect</span><span class="o">(</span>
         <span class="nl">borderRadius:</span> <span class="n">BorderRadius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mi">16</span><span class="o">),</span>
         <span class="nl">child:</span> <span class="n">Image</span><span class="o">.</span><span class="na">network</span><span class="o">(</span>
           <span class="s">'https://flutter'</span>
           <span class="s">'.dev/docs/cookbook/img-files/effects/split-check/Food1.jpg'</span><span class="o">,</span>
           <span class="nl">fit:</span> <span class="n">BoxFit</span><span class="o">.</span><span class="na">cover</span><span class="o">,</span>
         <span class="o">),</span>
       <span class="o">),</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>

 <span class="n">Widget</span> <span class="n">_buildText</span><span class="o">()</span> <span class="o">{</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">isLoading</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">return</span> <span class="n">Column</span><span class="o">(</span>
       <span class="nl">crossAxisAlignment:</span> <span class="n">CrossAxisAlignment</span><span class="o">.</span><span class="na">start</span><span class="o">,</span>
       <span class="nl">children:</span> <span class="o">[</span>
         <span class="n">Container</span><span class="o">(</span>
           <span class="nl">width:</span> <span class="kt">double</span><span class="o">.</span><span class="na">infinity</span><span class="o">,</span>
           <span class="nl">height:</span> <span class="mi">24</span><span class="o">,</span>
           <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="o">(</span>
             <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span><span class="o">,</span>
             <span class="nl">borderRadius:</span> <span class="n">BorderRadius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mi">16</span><span class="o">),</span>
           <span class="o">),</span>
         <span class="o">),</span>
         <span class="kd">const</span> <span class="n">SizedBox</span><span class="o">(</span><span class="nl">height:</span> <span class="mi">16</span><span class="o">),</span>
         <span class="n">Container</span><span class="o">(</span>
           <span class="nl">width:</span> <span class="mi">250</span><span class="o">,</span>
           <span class="nl">height:</span> <span class="mi">24</span><span class="o">,</span>
           <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="o">(</span>
             <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">black</span><span class="o">,</span>
             <span class="nl">borderRadius:</span> <span class="n">BorderRadius</span><span class="o">.</span><span class="na">circular</span><span class="o">(</span><span class="mi">16</span><span class="o">),</span>
           <span class="o">),</span>
         <span class="o">),</span>
       <span class="o">],</span>
     <span class="o">);</span>
   <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
     <span class="k">return</span> <span class="n">Padding</span><span class="o">(</span>
       <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">symmetric</span><span class="o">(</span><span class="nl">horizontal:</span> <span class="mf">8.0</span><span class="o">),</span>
       <span class="nl">child:</span> <span class="n">Text</span><span class="o">(</span>
         <span class="s">'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do '</span>
         <span class="s">'eiusmod tempor incididunt ut labore et dolore magna aliqua.'</span><span class="o">,</span>
       <span class="o">),</span>
     <span class="o">);</span>
   <span class="o">}</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Your UI now renders itself differently depending on
whether its loading or loaded.
By temporarily commenting out the image URLs,
you can see the two ways your UI renders.</p>

<p><img src="/assets/cookbook/effects/LoadingShimmer-1842d7d794bdfb08269250f3383ec75d68b041ef2bfdc5348a3c65c6428cbd89.gif" alt="Gif showing the shimmer animation" class="site-mobile-screenshot"></p>

<p>The next goal is to paint all of the colored areas
with a single gradient that looks like a shimmer.</p>

<h2 id="paint-the-shimmer-gradient">
<a class="anchor" href="#paint-the-shimmer-gradient" aria-hidden="true"><span class="octicon octicon-link"></span></a>Paint the shimmer gradient</h2>

<p>The key to the effect achieved in this recipe is to use a widget 
called <a href="https://api.flutter.dev/flutter/widgets/ShaderMask-class.html"><code class="language-plaintext highlighter-rouge">ShaderMask</code></a>. The <code class="language-plaintext highlighter-rouge">ShaderMask</code> widget, as the name suggests,
applies a shader to its child, but only in the areas where
the child already painted something. For example,
youll apply a shader to only the black shapes that you 
configured earlier.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i> <strong>Note:</strong>
  At this time, this recipe doesnt work on the web because
  Flutter doesnt yet support the <a href="https://api.flutter.dev/flutter/widgets/ShaderMask-class.html"><code class="language-plaintext highlighter-rouge">ShaderMask</code></a> widget.
  You can track the progress of <code class="language-plaintext highlighter-rouge">ShaderMask</code> for 
  the web in <a href="https://github.com/flutter/flutter/issues/44152">issue 44152</a>.</p>
</aside>

<p>Define a chrome-colored, linear gradient that gets applied to the 
shimmer shapes.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="n">_shimmerGradient</span> <span class="o">=</span> <span class="n">LinearGradient</span><span class="o">(</span>
 <span class="nl">colors:</span> <span class="o">[</span>
   <span class="n">Color</span><span class="o">(</span><span class="mh">0xFFEBEBF4</span><span class="o">),</span>
   <span class="n">Color</span><span class="o">(</span><span class="mh">0xFFF4F4F4</span><span class="o">),</span>
   <span class="n">Color</span><span class="o">(</span><span class="mh">0xFFEBEBF4</span><span class="o">),</span>
 <span class="o">],</span>
 <span class="nl">stops:</span> <span class="o">[</span>
   <span class="mf">0.1</span><span class="o">,</span>
   <span class="mf">0.3</span><span class="o">,</span>
   <span class="mf">0.4</span><span class="o">,</span>
 <span class="o">],</span>
 <span class="nl">begin:</span> <span class="n">Alignment</span><span class="o">(-</span><span class="mf">1.0</span><span class="o">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="o">),</span>
 <span class="nl">end:</span> <span class="n">Alignment</span><span class="o">(</span><span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.3</span><span class="o">),</span>
 <span class="nl">tileMode:</span> <span class="n">TileMode</span><span class="o">.</span><span class="na">clamp</span><span class="o">,</span>
<span class="o">);</span>
</code></pre></div></div>

<p>Define a new stateful widget called <code class="language-plaintext highlighter-rouge">ShimmerLoading</code>
that wraps a given <code class="language-plaintext highlighter-rouge">child</code> widget with a <code class="language-plaintext highlighter-rouge">ShaderMask</code>.
Configure the <code class="language-plaintext highlighter-rouge">ShaderMask</code> widget to apply the shimmer
gradient as a shader with a <code class="language-plaintext highlighter-rouge">blendMode</code> of <code class="language-plaintext highlighter-rouge">srcATop</code>.
The <code class="language-plaintext highlighter-rouge">srcATop</code> blend mode  replaces any color that your
<code class="language-plaintext highlighter-rouge">child</code> widget painted with the shader color.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ShimmerLoading</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
 <span class="kd">const</span> <span class="n">ShimmerLoading</span><span class="o">({</span>
   <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="o">,</span>
   <span class="n">required</span> <span class="k">this</span><span class="o">.</span><span class="na">isLoading</span><span class="o">,</span>
   <span class="n">required</span> <span class="k">this</span><span class="o">.</span><span class="na">child</span><span class="o">,</span>
 <span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

 <span class="kd">final</span> <span class="kt">bool</span> <span class="n">isLoading</span><span class="o">;</span>
 <span class="kd">final</span> <span class="n">Widget</span> <span class="n">child</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="n">_ShimmerLoadingState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">_ShimmerLoadingState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">_ShimmerLoadingState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">ShimmerLoading</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">if</span> <span class="o">(!</span><span class="n">widget</span><span class="o">.</span><span class="na">isLoading</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">return</span> <span class="n">widget</span><span class="o">.</span><span class="na">child</span><span class="o">;</span>
   <span class="o">}</span>

   <span class="k">return</span> <span class="n">ShaderMask</span><span class="o">(</span>
     <span class="nl">blendMode:</span> <span class="n">BlendMode</span><span class="o">.</span><span class="na">srcATop</span><span class="o">,</span>
     <span class="nl">shaderCallback:</span> <span class="o">(</span><span class="n">bounds</span><span class="o">)</span> <span class="o">{</span>
       <span class="k">return</span> <span class="n">_shimmerGradient</span><span class="o">.</span><span class="na">createShader</span><span class="o">(</span><span class="n">bounds</span><span class="o">);</span>
     <span class="o">},</span>
     <span class="nl">child:</span> <span class="n">widget</span><span class="o">.</span><span class="na">child</span><span class="o">,</span>
   <span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Wrap your <code class="language-plaintext highlighter-rouge">CircleListItem</code> widgets with a <code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widget.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">_buildTopRowItem</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
 <span class="k">return</span> <span class="n">ShimmerLoading</span><span class="o">(</span>
   <span class="nl">isLoading:</span> <span class="n">_isLoading</span><span class="o">,</span>
   <span class="nl">child:</span> <span class="n">CircleListItem</span><span class="o">(),</span>
 <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Wrap your <code class="language-plaintext highlighter-rouge">CardListItem</code> widgets with a <code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widget.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">_buildListItem</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
 <span class="k">return</span> <span class="n">ShimmerLoading</span><span class="o">(</span>
   <span class="nl">isLoading:</span> <span class="n">_isLoading</span><span class="o">,</span>
   <span class="nl">child:</span> <span class="n">CardListItem</span><span class="o">(</span>
     <span class="nl">isLoading:</span> <span class="n">_isLoading</span><span class="o">,</span>
   <span class="o">),</span>
 <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>When your shapes are loading, they now display
the shimmer gradient that is 
returned from the <code class="language-plaintext highlighter-rouge">shaderCallback</code>.</p>

<p>This is a big step in the right direction,
but theres a problem with this gradient display.
Each <code class="language-plaintext highlighter-rouge">CircleListItem</code> widget and each <code class="language-plaintext highlighter-rouge">CardListItem</code> widget 
displays a new version of the gradient.
For this recipe, the entire screen should 
look like one, big shimmering surface.
You solve this problem in the next step.</p>

<h2 id="paint-one-big-shimmer">
<a class="anchor" href="#paint-one-big-shimmer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Paint one big shimmer</h2>

<p>To paint one big shimmer across the screen,
each <code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widget needs 
to paint the same full-screen gradient based
on the position of that <code class="language-plaintext highlighter-rouge">ShimmerLoading</code>
widget on the screen.</p>

<p>To be more precise, rather than assume that the shimmer
should take up the entire screen,
there should be some area that shares the shimmer.
Maybe that area takes up the entire screen,
or maybe it doesnt. The way to solve this 
kind of problem in Flutter is to define another widget
that sits above all of the <code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widgets
in the widget tree, and call it <code class="language-plaintext highlighter-rouge">Shimmer</code>. 
Then, each <code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widget gets a reference
to the <code class="language-plaintext highlighter-rouge">Shimmer</code> ancestor
and requests the desired size and gradient to display.</p>

<p>Define a new stateful widget called <code class="language-plaintext highlighter-rouge">Shimmer</code> that
takes in a <a href="https://api.flutter.dev/flutter/painting/LinearGradient-class.html"><code class="language-plaintext highlighter-rouge">LinearGradient</code></a> and provides descendants
with access to its <code class="language-plaintext highlighter-rouge">State</code> object.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Shimmer</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="o">{</span>
 <span class="kd">static</span> <span class="n">ShimmerState</span><span class="o">?</span> <span class="n">of</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="na">findAncestorStateOfType</span><span class="o">&lt;</span><span class="n">ShimmerState</span><span class="o">&gt;();</span>
 <span class="o">}</span>

 <span class="kd">const</span> <span class="n">Shimmer</span><span class="o">({</span>
   <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="o">,</span>
   <span class="n">required</span> <span class="k">this</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">,</span>
   <span class="k">this</span><span class="o">.</span><span class="na">child</span><span class="o">,</span>
 <span class="o">})</span> <span class="o">:</span> <span class="k">super</span><span class="o">(</span><span class="nl">key:</span> <span class="n">key</span><span class="o">);</span>

 <span class="kd">final</span> <span class="n">LinearGradient</span> <span class="n">linearGradient</span><span class="o">;</span>
 <span class="kd">final</span> <span class="n">Widget</span><span class="o">?</span> <span class="n">child</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="n">ShimmerState</span> <span class="n">createState</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">ShimmerState</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">ShimmerState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">Shimmer</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">widget</span><span class="o">.</span><span class="na">child</span> <span class="o">??</span> <span class="kd">const</span> <span class="n">SizedBox</span><span class="o">();</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Add methods to the <code class="language-plaintext highlighter-rouge">ShimmerState</code> class in order
to provide access to the <code class="language-plaintext highlighter-rouge">linearGradient</code>,
the size of the <code class="language-plaintext highlighter-rouge">ShimmerState</code>s <code class="language-plaintext highlighter-rouge">RenderBox</code>,
and look up the position of a descendant within the
<code class="language-plaintext highlighter-rouge">ShimmerState</code>s <code class="language-plaintext highlighter-rouge">RenderBox</code>.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ShimmerState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">Shimmer</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="n">Gradient</span> <span class="kd">get</span> <span class="n">gradient</span> <span class="o">=&gt;</span> <span class="n">LinearGradient</span><span class="o">(</span>
       <span class="nl">colors:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">colors</span><span class="o">,</span>
       <span class="nl">stops:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">stops</span><span class="o">,</span>
       <span class="nl">begin:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">begin</span><span class="o">,</span>
       <span class="nl">end:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">end</span><span class="o">,</span>
     <span class="o">);</span>

 <span class="kt">bool</span> <span class="kd">get</span> <span class="n">isSized</span> <span class="o">=&gt;</span> <span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">findRenderObject</span><span class="o">()</span> <span class="k">as</span> <span class="n">RenderBox</span><span class="o">).</span><span class="na">hasSize</span><span class="o">;</span>

 <span class="n">Size</span> <span class="kd">get</span> <span class="n">size</span> <span class="o">=&gt;</span> <span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">findRenderObject</span><span class="o">()</span> <span class="k">as</span> <span class="n">RenderBox</span><span class="o">).</span><span class="na">size</span><span class="o">;</span>

 <span class="n">Offset</span> <span class="n">getDescendantOffset</span><span class="o">({</span>
   <span class="n">required</span> <span class="n">RenderBox</span> <span class="n">descendant</span><span class="o">,</span>
   <span class="n">Offset</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">Offset</span><span class="o">.</span><span class="na">zero</span><span class="o">,</span>
 <span class="o">})</span> <span class="o">{</span>
   <span class="kd">final</span> <span class="n">shimmerBox</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">findRenderObject</span><span class="o">()</span> <span class="k">as</span> <span class="n">RenderBox</span><span class="o">;</span>
   <span class="k">return</span> <span class="n">descendant</span><span class="o">.</span><span class="na">localToGlobal</span><span class="o">(</span><span class="n">offset</span><span class="o">,</span> <span class="nl">ancestor:</span> <span class="n">shimmerBox</span><span class="o">);</span>
 <span class="o">}</span>

 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">widget</span><span class="o">.</span><span class="na">child</span> <span class="o">??</span> <span class="kd">const</span> <span class="n">SizedBox</span><span class="o">();</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Wrap all of your screens content with the <code class="language-plaintext highlighter-rouge">Shimmer</code> widget.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">_ExampleUiLoadingAnimationState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">ExampleUiLoadingAnimation</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">Scaffold</span><span class="o">(</span>
     <span class="nl">body:</span> <span class="n">Shimmer</span><span class="o">(</span>
       <span class="nl">linearGradient:</span> <span class="n">_shimmerGradient</span><span class="o">,</span>
       <span class="nl">child:</span> <span class="n">ListView</span><span class="o">(...),</span>
     <span class="o">),</span>
   <span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Use the <code class="language-plaintext highlighter-rouge">Shimmer</code> widget within your
<code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widget to paint the shared gradient.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">_ShimmerLoadingState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">ShimmerLoading</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="nd">@override</span>
 <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">if</span> <span class="o">(!</span><span class="n">widget</span><span class="o">.</span><span class="na">isLoading</span><span class="o">)</span> <span class="o">{</span>
     <span class="k">return</span> <span class="n">widget</span><span class="o">.</span><span class="na">child</span><span class="o">;</span>
   <span class="o">}</span>

   <span class="c1">// Collect ancestor shimmer information.</span>
   <span class="kd">final</span> <span class="n">shimmer</span> <span class="o">=</span> <span class="n">Shimmer</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">context</span><span class="o">)!;</span>
   <span class="k">if</span> <span class="o">(!</span><span class="n">shimmer</span><span class="o">.</span><span class="na">isSized</span><span class="o">)</span> <span class="o">{</span>
     <span class="c1">// The ancestor Shimmer widget isnt laid</span>
     <span class="c1">// out yet. Return an empty box.</span>
     <span class="k">return</span> <span class="n">SizedBox</span><span class="o">();</span>
   <span class="o">}</span>
   <span class="kd">final</span> <span class="n">shimmerSize</span> <span class="o">=</span> <span class="n">shimmer</span><span class="o">.</span><span class="na">size</span><span class="o">;</span>
   <span class="kd">final</span> <span class="n">gradient</span> <span class="o">=</span> <span class="n">shimmer</span><span class="o">.</span><span class="na">gradient</span><span class="o">;</span>
   <span class="kd">final</span> <span class="n">offsetWithinShimmer</span> <span class="o">=</span> <span class="n">shimmer</span><span class="o">.</span><span class="na">getDescendantOffset</span><span class="o">(</span>
     <span class="nl">descendant:</span> <span class="n">context</span><span class="o">.</span><span class="na">findRenderObject</span><span class="o">()</span> <span class="k">as</span> <span class="n">RenderBox</span><span class="o">,</span>
   <span class="o">);</span>

   <span class="k">return</span> <span class="n">ShaderMask</span><span class="o">(</span>
     <span class="nl">blendMode:</span> <span class="n">BlendMode</span><span class="o">.</span><span class="na">srcATop</span><span class="o">,</span>
     <span class="nl">shaderCallback:</span> <span class="o">(</span><span class="n">bounds</span><span class="o">)</span> <span class="o">{</span>
       <span class="k">return</span> <span class="n">gradient</span><span class="o">.</span><span class="na">createShader</span><span class="o">(</span>
         <span class="n">Rect</span><span class="o">.</span><span class="na">fromLTWH</span><span class="o">(</span>
           <span class="o">-</span><span class="n">offsetWithinShimmer</span><span class="o">.</span><span class="na">dx</span><span class="o">,</span>
           <span class="o">-</span><span class="n">offsetWithinShimmer</span><span class="o">.</span><span class="na">dy</span><span class="o">,</span>
           <span class="n">shimmerSize</span><span class="o">.</span><span class="na">width</span><span class="o">,</span>
           <span class="n">shimmerSize</span><span class="o">.</span><span class="na">height</span><span class="o">,</span>
         <span class="o">),</span>
       <span class="o">);</span>
     <span class="o">},</span>
     <span class="nl">child:</span> <span class="n">widget</span><span class="o">.</span><span class="na">child</span><span class="o">,</span>
   <span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Your <code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widgets now display a shared
gradient that takes up all of the space within the
<code class="language-plaintext highlighter-rouge">Shimmer</code> widget.</p>

<h2 id="animate-the-shimmer">
<a class="anchor" href="#animate-the-shimmer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Animate the shimmer</h2>

<p>The shimmer gradient needs to move in order to
give the appearance of a shimmering shine.</p>

<p>The <code class="language-plaintext highlighter-rouge">LinearGradient</code> has a property called <code class="language-plaintext highlighter-rouge">transform</code>
that can be used to transform the appearance of the gradient,
for example, to move it horizontally. 
The <code class="language-plaintext highlighter-rouge">transform</code> property accepts a <code class="language-plaintext highlighter-rouge">GradientTransform</code> instance.</p>

<p>Define a class called <code class="language-plaintext highlighter-rouge">_SlidingGradientTransform</code> that implements 
<code class="language-plaintext highlighter-rouge">GradientTransform</code> to achieve the appearance of horizontal sliding.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">_SlidingGradientTransform</span> <span class="kd">extends</span> <span class="n">GradientTransform</span> <span class="o">{</span>
 <span class="kd">const</span> <span class="n">_SlidingGradientTransform</span><span class="o">({</span>
   <span class="n">required</span> <span class="k">this</span><span class="o">.</span><span class="na">slidePercent</span><span class="o">,</span>
 <span class="o">});</span>

 <span class="kd">final</span> <span class="kt">double</span> <span class="n">slidePercent</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="n">Matrix4</span><span class="o">?</span> <span class="n">transform</span><span class="o">(</span><span class="n">Rect</span> <span class="n">bounds</span><span class="o">,</span> <span class="o">{</span><span class="n">TextDirection</span><span class="o">?</span> <span class="n">textDirection</span><span class="o">})</span> <span class="o">{</span>
   <span class="k">return</span> <span class="n">Matrix4</span><span class="o">.</span><span class="na">translationValues</span><span class="o">(</span><span class="n">bounds</span><span class="o">.</span><span class="na">width</span> <span class="o">*</span> <span class="n">slidePercent</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">);</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The gradient slide percentage changes over time
in order to create the appearance of motion.
To change the percentage, configure an
<a href="https://api.flutter.dev/flutter/animation/AnimationController-class.html"><code class="language-plaintext highlighter-rouge">AnimationController</code></a> in the <code class="language-plaintext highlighter-rouge">ShimmerState</code> class.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ShimmerState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">Shimmer</span><span class="o">&gt;</span> <span class="k">with</span> <span class="n">SingleTickerProviderStateMixin</span> <span class="o">{</span>
 <span class="n">late</span> <span class="n">AnimationController</span> <span class="n">_shimmerController</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="kt">void</span> <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
   <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>

   <span class="n">_shimmerController</span> <span class="o">=</span> <span class="n">AnimationController</span><span class="o">.</span><span class="na">unbounded</span><span class="o">(</span><span class="nl">vsync:</span> <span class="k">this</span><span class="o">)</span>
     <span class="o">..</span><span class="na">repeat</span><span class="o">(</span><span class="nl">min:</span> <span class="o">-</span><span class="mf">0.5</span><span class="o">,</span> <span class="nl">max:</span> <span class="mf">1.5</span><span class="o">,</span> <span class="nl">period:</span> <span class="kd">const</span> <span class="n">Duration</span><span class="o">(</span><span class="nl">milliseconds:</span> <span class="mi">1000</span><span class="o">));</span>
 <span class="o">}</span>

 <span class="nd">@override</span>
 <span class="kt">void</span> <span class="n">dispose</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">_shimmerController</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
   <span class="k">super</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Apply the <code class="language-plaintext highlighter-rouge">_SlidingGradientTransform</code> to the <code class="language-plaintext highlighter-rouge">gradient</code>
by using the <code class="language-plaintext highlighter-rouge">_shimmerController</code>s <code class="language-plaintext highlighter-rouge">value</code> as the <code class="language-plaintext highlighter-rouge">slidePercent</code>.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">LinearGradient</span> <span class="kd">get</span> <span class="n">gradient</span> <span class="o">=&gt;</span> <span class="n">LinearGradient</span><span class="o">(</span>
  <span class="nl">colors:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">colors</span><span class="o">,</span>
  <span class="nl">stops:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">stops</span><span class="o">,</span>
  <span class="nl">begin:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">begin</span><span class="o">,</span>
  <span class="nl">end:</span> <span class="n">widget</span><span class="o">.</span><span class="na">linearGradient</span><span class="o">.</span><span class="na">end</span><span class="o">,</span>
  <span class="nl">transform:</span> <span class="n">_SlidingGradientTransform</span><span class="o">(</span><span class="nl">slidePercent:</span> 
    <span class="n">_shimmerController</span><span class="o">.</span><span class="na">value</span><span class="o">),</span>
<span class="o">);</span>
</code></pre></div></div>

<p>The gradient now animates, but your individual
<code class="language-plaintext highlighter-rouge">ShimmerLoading</code> widgets dont repaint themselves
as the gradient changes. Therefore, it looks like nothing 
is happening.</p>

<p>Expose the <code class="language-plaintext highlighter-rouge">_shimmerController</code> from <code class="language-plaintext highlighter-rouge">ShimmerState</code>
as a <a href="https://api.flutter.dev/flutter/foundation/Listenable-class.html"><code class="language-plaintext highlighter-rouge">Listenable</code></a>.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Listenable</span> <span class="kd">get</span> <span class="n">shimmerChanges</span> <span class="o">=&gt;</span> <span class="n">_shimmerController</span><span class="o">;</span>
</code></pre></div></div>

<p>In <code class="language-plaintext highlighter-rouge">ShimmerLoading</code>, listen for changes to the ancestor
<code class="language-plaintext highlighter-rouge">ShimmerState</code>s <code class="language-plaintext highlighter-rouge">shimmerChanges</code> property,
and repaint the shimmer gradient.</p>

<!--skip-->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">_ShimmerLoadingState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">ShimmerLoading</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="n">Listenable</span><span class="o">?</span> <span class="n">_shimmerChanges</span><span class="o">;</span>

 <span class="nd">@override</span>
 <span class="kt">void</span> <span class="n">didChangeDependencies</span><span class="o">()</span> <span class="o">{</span>
   <span class="k">super</span><span class="o">.</span><span class="na">didChangeDependencies</span><span class="o">();</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">_shimmerChanges</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">_shimmerChanges</span><span class="o">!.</span><span class="na">removeListener</span><span class="o">(</span><span class="n">_onShimmerChange</span><span class="o">);</span>
   <span class="o">}</span>
   <span class="n">_shimmerChanges</span> <span class="o">=</span> <span class="n">Shimmer</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">context</span><span class="o">)?.</span><span class="na">shimmerChanges</span><span class="o">;</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">_shimmerChanges</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">_shimmerChanges</span><span class="o">!.</span><span class="na">addListener</span><span class="o">(</span><span class="n">_onShimmerChange</span><span class="o">);</span>
   <span class="o">}</span>
 <span class="o">}</span>

 <span class="nd">@override</span>
 <span class="kt">void</span> <span class="n">dispose</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">_shimmerChanges</span><span class="o">?.</span><span class="na">removeListener</span><span class="o">(</span><span class="n">_onShimmerChange</span><span class="o">);</span>
   <span class="k">super</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
 <span class="o">}</span>

 <span class="kt">void</span> <span class="n">_onShimmerChange</span><span class="o">()</span> <span class="o">{</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">widget</span><span class="o">.</span><span class="na">isLoading</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">setState</span><span class="o">(()</span> <span class="o">{</span>
       <span class="c1">// update the shimmer painting.</span>
     <span class="o">});</span>
   <span class="o">}</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Congratulations!
You now have a full-screen,
animated shimmer effect that turns 
on and off as the content loads.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i> <strong>Note:</strong>
  This recipe doesnt provide an interactive DartPad because
  <code class="language-plaintext highlighter-rouge">ShaderMask</code> widgets have not yet been implemented for the web.
  You can run this recipe on a mobile or desktop device by
  <a href="https://github.com/flutter/codelabs">cloning the example code</a>. See the UI loading animation 
  example under the cookbook directory.</p>
</aside>


        <nav class="site-nextprev-nav">
    <ul>
      <li class="prev">
          <a href="/docs/cookbook/effects/parallax-scrolling">Create a scrolling parallax effect</a>
      </li>
      <li class="next">
          <a href="/docs/cookbook/effects/staggered-menu-animation">Create a staggered menu animation</a>
      </li>
      </ul>
  </nav>

      </div>
    </main>
  </div>
</div>


    <footer class="site-footer">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 site-footer__wrapper">
        <div class="site-footer__logo">
          <img src="/images/flutter-mono-81x100.png" alt="Flutter Logo" width="81" height="100">
        </div>
        <div class="site-footer__content">
          <ul class="site-footer__link-list">
              <li><a href="https://groups.google.com/forum/#!forum/flutter-dev">flutter-dev@</a></li>
              <li><a href="/tos">terms</a></li>
              <li><a href="/brand">brand usage</a></li>
              <li><a href="/security">security</a></li>
              <li><a href="https://www.google.com/intl/en/policies/privacy">privacy</a></li>
              <li><a href="https://esflutter.dev/">espaol</a></li>
              <li><a href="https://flutter.cn" class="text-nowrap"></a></li> 
              <li><a href="https://flutter-ko.dev/" class="text-nowrap"></a></li>
              <li><a href="https://blog.google/inside-google/company-announcements/standing-with-black-community">We stand in solidarity with the Black community. Black Lives Matter.</a></li>
          </ul>

          <p class="licenses">
            Except as otherwise noted,
            this work is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0">Creative
            Commons Attribution 4.0 International License</a>,
            and code samples are licensed under the BSD License.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

    
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=at3ul57xpub2vk3oxt2ytw365i"></script>
  </body>
</html>
