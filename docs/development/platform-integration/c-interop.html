<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Binding to native code using dart:ffi  - Flutter </title>
  <link rel="shortcut icon" href="/images/favicon.png">

  <!-- Google Optimize -->
  <script src="https://www.googleoptimize.com/optimize.js?id=GTM-MPZP6R8"></script>
  <!-- End Google Optimize -->

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-ND4LWWZ');</script>
  <!-- End Google Tag Manager -->

  
  <meta name="description" content="To use C code in your Flutter program, use the dart:ffi library (currently in beta).">
  <meta name="keywords" content=" ">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@flutterdev">

  <meta property="og:title" content="Binding to native code using dart:ffi">
  <meta property="og:url" content="https://flutter.dev/docs/development/platform-integration/c-interop">
  <meta property="og:description" content="To use C code in your Flutter program, use the dart:ffi library (currently in beta).">
  
  <meta property="og:image" content="https://flutter.dev/images/flutter-logo-sharing.png">

  <link href="https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:300,400,500|Roboto+Mono:400,700|Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/main-5179236d2a521f0d8c964446a1eaa9bee448793c298286381d5cbdc3f6776229.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
  <script src="/assets/main-3d1fe020941b4eb18d313f0eb6a8ff9fd170a0b3ed6913d333d804fec0136545.js" type="text/javascript"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67589403-1', 'auto');
    ga('send', 'pageview');
  </script>

  <meta name="google-site-verification" content="HFqxhSbf9YA_0rBglNLzDiWnrHiK_w4cqDh2YD2GEY4" />
  <meta name="google-site-verification" content="Zom-prnFykfYycmI_nzRWYx5r6Z9OwR-yEsgElRz_Ug" />
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-ND4LWWZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="overlay-under-drawer"></div>

    <header class="site-header">
  <nav class="navbar navbar-expand-md justify-content-start justify-content-md-between">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="material-icons">menu</i>
    </button>

    <a class="navbar-brand" href="/">
      <img alt="Flutter logo" height="37" width="129" class="align-middle" src="/assets/flutter-lockup-1caf6476beed76adec3c477586da54de6b552b2f42108ec5bc68dc63bae2df75.png">
    </a>

    <div class="collapse navbar-collapse flex-grow-0" id="navbarSupportedContent">
      <div class="site-header__sheet-bg" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"></div>
      <div class="site-header__sheet">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="/docs">Docs</a>
          </li>
          <div class="site-sidebar site-sidebar--header d-md-none">
            <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="false" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link active collapsable"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="true" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

          </div>

          <li class="nav-item">
            <a class="nav-link" href="/showcase">Showcase</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/community">Community</a>
          </li>
        </ul>
        <form action="/search/" class="site-header__search form-inline">
          <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
        </form>
      </div>
    </div>
    <div class="site-header__social navbar-nav flex-row">
      <a class="nav-item nav-link" href="https://twitter.com/flutterdev" aria-label="Twittter"><i class="fab fa-twitter fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://www.youtube.com/flutterdev" aria-label="YouTube"><i class="fab fa-youtube fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://github.com/flutter" aria-label="Github"><i class="fab fa-github fa-lg"></i></a>
    </div>
    <a class="site-header__cta btn btn-primary" href="/docs/get-started/install/">Get started</a>
    </nav>
</header>
<!---->
  
  <div class="site-banner site-banner--default" role="alert">
    Flutter's I/O schedule is live. <a href="http://goo.gle/io21-flutter-agenda-4">Learn more</a>.
  </div>
<div class="container-fluid position-relative">
  <div class="row flex-xl-nowrap">
    <div class="fixed-col site-sidebar site-sidebar--fixed col-12 col-md-3 col-xl-2 d-none d-md-block" data-fixed-column>
      <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="false" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link active collapsable"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="true" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

    </div>
    <div
  id="site-toc--side"
  class="site-toc site-toc--side fixed-col col-xl-2 order-3"
  data-fixed-column
>
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    </header>
  <ul class="section-nav nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#dynamic-vs-static-linking">Dynamic vs static linking</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step-1-create-a-plugin">Step 1: Create a plugin</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step-2-add-cc-sources">Step 2: Add C/C++ sources</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#step-3-load-the-code-using-the-ffi-library">Step 3: Load the code using the FFI library</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#other-use-cases">Other use cases</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#ios-and-macos">iOS and macOS</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#platform-library">Platform library</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#first-party-library">First-party library</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#source-code">Source code</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#compiled-dynamic-library">Compiled (dynamic) library</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#compiled-dynamic-library-macos">Compiled (dynamic) library (macOS)</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#open-source-third-party-library">Open-source third-party library</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#closed-source-third-party-library">Closed-source third-party library</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#android">Android</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#platform-library-1">Platform library</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#first-party-library-1">First-party library</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#open-source-third-party">Open-source third-party</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#closed-source-third-party-library-1">Closed-source third-party library</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#web">Web</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#faq">FAQ</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#android-apk-size-shared-object-compression">Android APK size (shared object compression)</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#ios-symbols-stripped">iOS symbols stripped</a></li>
</ul>
</li>
</ul>
</div>
<main class="site-content col-12 col-md-9 offset-md-3 col-xl-8 offset-xl-2 col-xxl-8 offset-xxl-2" role="main">
      <div class="container">
        
        
        <header class="site-content__title">
          <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/flutter/website/tree/master/src/docs/development/platform-integration/c-interop.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/flutter/website/issues/new?title='Binding to native code using dart:ffi' page issue&body=
Page URL: https://flutter.dev/docs/development/platform-integration/c-interop.html%0D%0A
Page source: https://github.com/flutter/website/tree/master/src/docs/development/platform-integration/c-interop.md%0D%0A
%0D%0A
Found a typo? You can fix it yourself by going to the page source and clicking the pencil icon. Or finish creating this issue.%0D%0A
%0D%0A
Description of issue:" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

          <h1>Binding to native code using dart:ffi</h1>
          

<nav aria-label="breadcrumb">
  <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs" property="item" typeof="WebPage"><span property="name">Docs</span>
      </a>
      <meta property="position" content="1" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/development" property="item" typeof="WebPage"><span property="name">Development</span>
      </a>
      <meta property="position" content="2" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/development/platform-integration" property="item" typeof="WebPage"><span property="name">Platform integration</span>
      </a>
      <meta property="position" content="3" />
    </li>
  <li class="breadcrumb-item active"
      property="itemListElement" typeof="ListItem" aria-current="page"><a href="/docs/development/platform-integration/c-interop.html" property="item" typeof="WebPage"><span property="name">Binding to native code using dart:ffi</span>
      </a>
      <meta property="position" content="4" />
    </li>
  
  </ol>
</nav>
          </header>
        <div
  id="site-toc--inline"
  class="site-toc site-toc--inline "
  
>
  <header class="site-toc__title">
    Contents
    </header>
  <ul class="section-nav">
<li class="toc-entry toc-h3"><a href="#dynamic-vs-static-linking">Dynamic vs static linking</a></li>
<li class="toc-entry toc-h2"><a href="#step-1-create-a-plugin">Step 1: Create a plugin</a></li>
<li class="toc-entry toc-h2"><a href="#step-2-add-cc-sources">Step 2: Add C/C++ sources</a></li>
<li class="toc-entry toc-h2"><a href="#step-3-load-the-code-using-the-ffi-library">Step 3: Load the code using the FFI library</a></li>
<li class="toc-entry toc-h2"><a href="#other-use-cases">Other use cases</a>
<ul>
<li class="toc-entry toc-h3"><a href="#ios-and-macos">iOS and macOS</a>
<ul>
<li class="toc-entry toc-h4"><a href="#platform-library">Platform library</a></li>
<li class="toc-entry toc-h4"><a href="#first-party-library">First-party library</a></li>
<li class="toc-entry toc-h4"><a href="#source-code">Source code</a></li>
<li class="toc-entry toc-h4"><a href="#compiled-dynamic-library">Compiled (dynamic) library</a></li>
<li class="toc-entry toc-h4"><a href="#compiled-dynamic-library-macos">Compiled (dynamic) library (macOS)</a></li>
<li class="toc-entry toc-h4"><a href="#open-source-third-party-library">Open-source third-party library</a></li>
<li class="toc-entry toc-h4"><a href="#closed-source-third-party-library">Closed-source third-party library</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#android">Android</a>
<ul>
<li class="toc-entry toc-h4"><a href="#platform-library-1">Platform library</a></li>
<li class="toc-entry toc-h4"><a href="#first-party-library-1">First-party library</a></li>
<li class="toc-entry toc-h4"><a href="#open-source-third-party">Open-source third-party</a></li>
<li class="toc-entry toc-h4"><a href="#closed-source-third-party-library-1">Closed-source third-party library</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#web">Web</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#faq">FAQ</a>
<ul>
<li class="toc-entry toc-h3"><a href="#android-apk-size-shared-object-compression">Android APK size (shared object compression)</a></li>
<li class="toc-entry toc-h3"><a href="#ios-symbols-stripped">iOS symbols stripped</a></li>
</ul>
</li>
</ul>
</div>
<p>Flutter mobile can use the <a href="https://api.dart.dev/dev/dart-ffi/dart-ffi-library.html">dart:ffi</a> library
to call native C APIs. <em>FFI</em> stands for
<a href="https://en.wikipedia.org/wiki/Foreign_function_interface"><em>foreign function interface.</em></a>
Other terms for similar functionality include
<em>native interface</em> and <em>language bindings.</em></p>

<p>Before your library or program can use the FFI library
to bind to native code, you must ensure that the
native code is loaded and its symbols are visible to Dart.
This page focuses on compiling, packaging,
and loading native code within a Flutter plugin or app.</p>

<p>This tutorial demonstrates how to bundle C/C++
sources in a Flutter plugin and bind to them using
the Dart FFI library on both Android and iOS.
In this walkthrough, you’ll create a C function
that implements 32-bit addition and then
exposes it through a Dart plugin named “native_add”.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-code-branch"></i> <strong>Version note:</strong>
  As of Dart 2.12.0 (included in Flutter 2.0 or later),
  FFI has been marked as stable.</p>
</aside>

<h3 id="dynamic-vs-static-linking">
<a class="anchor" href="#dynamic-vs-static-linking" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dynamic vs static linking</h3>

<p>A native library can be linked into an app either
dynamically or statically. A statically linked library
is embedded into the app’s executable image,
and is loaded when the app starts.</p>

<p>Symbols from a statically linked library can be
loaded using <code class="language-plaintext highlighter-rouge">DynamicLibrary.executable</code> or
<code class="language-plaintext highlighter-rouge">DynamicLibrary.process</code>.</p>

<p>A dynamically linked library, by contrast, is distributed
in a separate file or folder within the app,
and loaded on-demand. On Android, a dynamically
linked library is distributed as a set of <code class="language-plaintext highlighter-rouge">.so</code> (ELF)
files, one for each architecture. On iOS,
it’s distributed as a <code class="language-plaintext highlighter-rouge">.framework</code> folder.</p>

<p>A dynamically linked library can be loaded into
Dart via <code class="language-plaintext highlighter-rouge">DynamicLibrary.open</code>.</p>

<p>API documentation is available from the Dart dev channel:
<a href="https://api.dart.dev/dev/">Dart API reference documentation</a>.</p>

<h2 id="step-1-create-a-plugin">
<a class="anchor" href="#step-1-create-a-plugin" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 1: Create a plugin</h2>

<p>If you already have a plugin, skip this step.</p>

<p>To create a plugin called “native_add”,
do the following:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>flutter create <span class="nt">--platforms</span><span class="o">=</span>android,ios <span class="nt">--template</span><span class="o">=</span>plugin native_add
<span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>native_add
</code></pre></div></div>

<aside class="alert alert-info" role="alert">
  <p><i class="fas fa-info-circle"></i> <strong>Note:</strong>
  You can exclude platforms from –platforms that you don’t want
  to build to. However, you need to include the platform of 
  the device you are testing on.</p>
</aside>

<h2 id="step-2-add-cc-sources">
<a class="anchor" href="#step-2-add-cc-sources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 2: Add C/C++ sources</h2>

<p>You need to inform both the Android and iOS build
systems about the native code so the code can be compiled
and linked appropriately into the final application.</p>

<p>You add the sources to the <code class="language-plaintext highlighter-rouge">ios</code> folder,
because CocoaPods doesn’t allow including sources
above the podspec file, but Gradle allows you to point
to the <code class="language-plaintext highlighter-rouge">ios</code> folder. It’s not required to use the same
sources for both iOS and Android;
you may, of course, add Android-specific sources
to the <code class="language-plaintext highlighter-rouge">android</code> folder and modify <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code>
appropriately.</p>

<p>The FFI library can only bind against C symbols,
so in C++ these symbols must be marked <code class="language-plaintext highlighter-rouge">extern C</code>.
You should also add attributes to indicate that the
symbols are referenced from Dart,
to prevent the linker from discarding the symbols
during link-time optimization.</p>

<p>For example,
to create a C++ file named <code class="language-plaintext highlighter-rouge">ios/Classes/native_add.cpp</code>,
use the following instructions. (Note that the template
has already created this file for you.) Start from the
root directory of your project:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> <span class="o">&gt;</span> ios/Classes/native_add.cpp <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
#include &lt;stdint.h&gt;

extern "C" __attribute__((visibility("default"))) __attribute__((used))
int32_t native_add(int32_t x, int32_t y) {
    return x + y;
}
</span><span class="no">EOF
</span></code></pre></div></div>

<p>On iOS, you need to tell Xcode to statically link the file:</p>

<ol>
  <li>In Xcode, open <code class="language-plaintext highlighter-rouge">Runner.xcworkspace</code>.</li>
  <li>Add the C/C++/Objective-C/Swift
source files to the Xcode project.</li>
</ol>

<p>On Android, you need to create a <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code> file
to define how the sources should be compiled and point
Gradle to it. From the root of your project directory,
use the following instructions</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> <span class="o">&gt;</span> android/CMakeLists.txt <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
cmake_minimum_required(VERSION 3.4.1)  # for example

add_library( native_add

             # Sets the library as a shared library.
             SHARED

             # Provides a relative path to your source file(s).
             ../ios/Classes/native_add.cpp )
</span><span class="no">EOF
</span></code></pre></div></div>

<p>Finally, add an <code class="language-plaintext highlighter-rouge">externalNativeBuild</code> section to
<code class="language-plaintext highlighter-rouge">android/build.gradle</code>. For example:</p>

<pre><code class="language-nocode">android {
  // ...
  externalNativeBuild {
    // Encapsulates your CMake build configurations.
    cmake {
      // Provides a relative path to your CMake build script.
      path "CMakeLists.txt"
    }
  }
  // ...
}
</code></pre>

<h2 id="step-3-load-the-code-using-the-ffi-library">
<a class="anchor" href="#step-3-load-the-code-using-the-ffi-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 3: Load the code using the FFI library</h2>

<p>In this example, you can add the following code to
<code class="language-plaintext highlighter-rouge">lib/native_add.dart</code>. However the location of the
Dart binding code is not important.</p>

<p>First, you must create a <code class="language-plaintext highlighter-rouge">DynamicLibrary</code> handle to
the native code. This step varies between iOS and Android:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'dart:ffi'</span><span class="o">;</span> <span class="c1">// For FFI</span>
<span class="kn">import</span> <span class="s">'dart:io'</span><span class="o">;</span> <span class="c1">// For Platform.isX</span>

<span class="kd">final</span> <span class="n">DynamicLibrary</span> <span class="n">nativeAddLib</span> <span class="o">=</span> <span class="n">Platform</span><span class="o">.</span><span class="na">isAndroid</span>
    <span class="o">?</span> <span class="n">DynamicLibrary</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">"libnative_add.so"</span><span class="o">)</span>
    <span class="o">:</span> <span class="n">DynamicLibrary</span><span class="o">.</span><span class="na">process</span><span class="o">();</span>
</code></pre></div></div>

<p>Note that on Android the native library is named
in <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code> (see above),
but on iOS it takes the plugin’s name.</p>

<p>With a handle to the enclosing library,
you can resolve the <code class="language-plaintext highlighter-rouge">native_add</code> symbol:</p>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">final</span> <span class="kt">int</span> <span class="nf">Function</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="n">nativeAdd</span> <span class="o">=</span>
  <span class="n">nativeAddLib</span>
    <span class="o">.</span><span class="na">lookup</span><span class="o">&lt;</span><span class="n">NativeFunction</span><span class="o">&lt;</span><span class="n">Int32</span> <span class="n">Function</span><span class="o">(</span><span class="n">Int32</span><span class="o">,</span> <span class="n">Int32</span><span class="o">)&gt;&gt;(</span><span class="s">"native_add"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">asFunction</span><span class="o">();</span>
</code></pre></div></div>

<p>Finally, you can call it. To demonstrate this within
the auto-generated “example” app (<code class="language-plaintext highlighter-rouge">example/lib/main.dart</code>):</p>

<pre><code class="language-nocode">// Inside of _MyAppState.build:
        body: Center(
          child: Text('1 + 2 == ${nativeAdd(1, 2)}'),
        ),
</code></pre>

<h2 id="other-use-cases">
<a class="anchor" href="#other-use-cases" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other use cases</h2>

<h3 id="ios-and-macos">
<a class="anchor" href="#ios-and-macos" aria-hidden="true"><span class="octicon octicon-link"></span></a>iOS and macOS</h3>

<p>Dynamically linked libraries are automatically loaded by
the dynamic linker when the app starts. Their constituent
symbols can be resolved using <a href="https://api.dart.dev/dev/dart-ffi/DynamicLibrary/DynamicLibrary.process.html"><code class="language-plaintext highlighter-rouge">DynamicLibrary.process</code></a>.
You can also get a handle to the library with
<a href="https://api.dart.dev/dev/dart-ffi/DynamicLibrary/DynamicLibrary.open.html"><code class="language-plaintext highlighter-rouge">DynamicLibrary.open</code></a> to restrict the scope of
symbol resolution, but it’s unclear how Apple’s
review process handles this.</p>

<p>Symbols statically linked into the application binary
can be resolved using <a href="https://api.dart.dev/dev/dart-ffi/DynamicLibrary/DynamicLibrary.executable.html"><code class="language-plaintext highlighter-rouge">DynamicLibrary.executable</code></a> or
<a href="https://api.dart.dev/dev/dart-ffi/DynamicLibrary/DynamicLibrary.process.html"><code class="language-plaintext highlighter-rouge">DynamicLibrary.process</code></a>.</p>

<h4 id="platform-library">
<a class="anchor" href="#platform-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Platform library</h4>

<p>To link against a platform library,
use the following instructions:</p>

<ol>
  <li>In Xcode, open <code class="language-plaintext highlighter-rouge">Runner.xcworkspace</code>.</li>
  <li>Select the target platform.</li>
  <li>Click <strong>+</strong> in the <strong>Linked Frameworks and Libraries</strong>
section.</li>
  <li>Select the system library to link against.</li>
</ol>

<h4 id="first-party-library">
<a class="anchor" href="#first-party-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>First-party library</h4>

<p>A first-party native library can be included either
as source or as a (signed) <code class="language-plaintext highlighter-rouge">.framework</code> file.
It’s probably possible to include statically linked
archives as well, but it requires testing.</p>

<h4 id="source-code">
<a class="anchor" href="#source-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Source code</h4>

<p>To link directly to source code,
use the following instructions:</p>

<ol>
  <li>In Xcode, open <code class="language-plaintext highlighter-rouge">Runner.xcworkspace</code>.</li>
  <li>Add the C/C++/Objective-C/Swift
source files to the Xcode project.</li>
  <li>
    <p>Add the following prefix to the
exported symbol declarations to ensure they
are visible to Dart:</p>

    <p><strong>C/C++/Objective-C</strong></p>

    <pre><code class="language-objective-c">extern "C" /* &lt;= C++ only */ __attribute__((visibility("default"))) __attribute__((used))
</code></pre>

    <p><strong>Swift</strong></p>

    <div class="language-swift highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kd">@_cdecl</span><span class="p">(</span><span class="s">"myFunctionName"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="compiled-dynamic-library">
<a class="anchor" href="#compiled-dynamic-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compiled (dynamic) library</h4>

<p>To link to a compiled dynamic library,
use the following instructions:</p>

<ol>
  <li>If a properly signed <code class="language-plaintext highlighter-rouge">Framework</code> file is present,
open <code class="language-plaintext highlighter-rouge">Runner.xcworkspace</code>.</li>
  <li>Add the framework file to the <strong>Embedded Binaries</strong>
section.</li>
  <li>Also add it to the <strong>Linked Frameworks &amp; Libraries</strong>
section of the target in Xcode.</li>
</ol>

<h4 id="compiled-dynamic-library-macos">
<a class="anchor" href="#compiled-dynamic-library-macos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compiled (dynamic) library (macOS)</h4>

<p>To create add a closed source library to a <a href="/desktop">Flutter macOS Desktop</a> app,
use the following instructions.</p>

<ol>
  <li>Follow the instructions for Flutter desktop to create a Flutter desktop app.</li>
  <li>Open the <code class="language-plaintext highlighter-rouge">yourapp/macos/Runner.xcworkspace</code> in Xcode.
    <ol>
      <li>Drag your precompiled library (<code class="language-plaintext highlighter-rouge">libyourlibrary.dylib</code>) into <code class="language-plaintext highlighter-rouge">Runner/Frameworks</code>.</li>
      <li>Click <code class="language-plaintext highlighter-rouge">Runner</code> and go to the <code class="language-plaintext highlighter-rouge">Build Phases</code> tab.
        <ol>
          <li>Drag <code class="language-plaintext highlighter-rouge">libyourlibrary.dylib</code> into the <code class="language-plaintext highlighter-rouge">Copy Bundle Resources</code> list.</li>
          <li>Under <code class="language-plaintext highlighter-rouge">Bundle Framework</code>, check <code class="language-plaintext highlighter-rouge">Code Sign on Copy</code>.</li>
          <li>Under <code class="language-plaintext highlighter-rouge">Link Binary With Libraries</code>, set status to <code class="language-plaintext highlighter-rouge">Optional</code>. (We use dynamic linking, no need to statically link.)</li>
        </ol>
      </li>
      <li>Click <code class="language-plaintext highlighter-rouge">Runner</code> and go to the <code class="language-plaintext highlighter-rouge">General</code> tab.
        <ol>
          <li>Drag <code class="language-plaintext highlighter-rouge">libyourlibrary.dylib</code> into the <code class="language-plaintext highlighter-rouge">Frameworks, Libararies and Embedded Content</code> list.</li>
          <li>Select <code class="language-plaintext highlighter-rouge">Embed &amp; Sign</code>.</li>
        </ol>
      </li>
    </ol>
  </li>
  <li>Edit <code class="language-plaintext highlighter-rouge">lib/main.dart</code>.
    <ol>
      <li>Use <code class="language-plaintext highlighter-rouge">DynamicLibrary.open('libyourlibrary.dylib')</code> to dynamically link to the symbols.</li>
      <li>Call your native function somewhere in a widget.</li>
    </ol>
  </li>
  <li>Run <code class="language-plaintext highlighter-rouge">flutter run</code> and check that your native function gets called.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">flutter build macos</code> to build a selfcontained release version of your app.</li>
</ol>

<h4 id="open-source-third-party-library">
<a class="anchor" href="#open-source-third-party-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Open-source third-party library</h4>

<p>To create a Flutter plugin that includes both
C/C++/Objective-C <em>and</em> Dart code,
use the following instructions:</p>

<ol>
  <li>In your plugin project,
open <code class="language-plaintext highlighter-rouge">ios/&lt;myproject&gt;.podspec</code>.</li>
  <li>Add the native code to the <code class="language-plaintext highlighter-rouge">source_files</code>
field.</li>
</ol>

<p>The native code is then statically linked into
the application binary of any app that uses
this plugin.</p>

<h4 id="closed-source-third-party-library">
<a class="anchor" href="#closed-source-third-party-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Closed-source third-party library</h4>

<p>To create a Flutter plugin that includes Dart
source code, but distribute the C/C++ library
in binary form, use the following instructions:</p>

<ol>
  <li>In your plugin project,
open <code class="language-plaintext highlighter-rouge">ios/&lt;myproject&gt;.podspec</code>.</li>
  <li>Add a <code class="language-plaintext highlighter-rouge">vendored_frameworks</code> field.
See the <a href="https://github.com/CocoaPods/CocoaPods/blob/master/examples/Vendored%20Framework%20Example/Example%20Pods/VendoredFrameworkExample.podspec">CocoaPods example</a>.</li>
</ol>

<p><strong>Do not</strong> upload this plugin
(or any plugin containing binary code)
to pub.dev. Instead, this plugin should be downloaded
from a trusted third-party,
as shown in the CocoaPods example.</p>

<h3 id="android">
<a class="anchor" href="#android" aria-hidden="true"><span class="octicon octicon-link"></span></a>Android</h3>

<h4 id="platform-library-1">
<a class="anchor" href="#platform-library-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Platform library</h4>

<p>To link against a platform library,
use the following instructions:</p>

<ol>
  <li>Find the desired library in the <a href="https://developer.android.com/ndk/guides/stable_apis">Android NDK Native APIs</a>
list in the Android docs. This lists stable native APIs.</li>
  <li>Load the library using <a href="https://api.dart.dev/dev/dart-ffi/DynamicLibrary/DynamicLibrary.open.html"><code class="language-plaintext highlighter-rouge">DynamicLibrary.open</code></a>.
For example, to load OpenGL ES (v3):
<!-- skip -->
    <div class="language-dart highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="n">DynamicLibrary</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">'libGLES_v3.so'</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>You might need to update the Android manifest
file of the app or plugin if indicated by
the documentation.</p>

<h4 id="first-party-library-1">
<a class="anchor" href="#first-party-library-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>First-party library</h4>

<p>The process for including native code in source
code or binary form is the same for an app or
plugin.</p>

<h4 id="open-source-third-party">
<a class="anchor" href="#open-source-third-party" aria-hidden="true"><span class="octicon octicon-link"></span></a>Open-source third-party</h4>

<p>Follow the <a href="https://developer.android.com/studio/projects/add-native-code">Add C and C++ code to your project</a>
instructions in the Android docs to
add native code and support for the native
code toolchain (either CMake or <code class="language-plaintext highlighter-rouge">ndk-build</code>).</p>

<h4 id="closed-source-third-party-library-1">
<a class="anchor" href="#closed-source-third-party-library-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Closed-source third-party library</h4>

<p>To create a Flutter plugin that includes Dart
source code, but distribute the C/C++ library
in binary form, use the following instructions:</p>

<ol>
  <li>Open the <code class="language-plaintext highlighter-rouge">android/build.gradle</code> file for your
project.</li>
  <li>Add the AAR artifact as a dependency.
<strong>Don’t</strong> include the artifact in your
Flutter package. Instead, it should be
downloaded from a repository, such as
JCenter.</li>
</ol>

<h3 id="web">
<a class="anchor" href="#web" aria-hidden="true"><span class="octicon octicon-link"></span></a>Web</h3>

<p>This feature is not yet supported for web plugins.</p>

<h2 id="faq">
<a class="anchor" href="#faq" aria-hidden="true"><span class="octicon octicon-link"></span></a>FAQ</h2>

<h3 id="android-apk-size-shared-object-compression">
<a class="anchor" href="#android-apk-size-shared-object-compression" aria-hidden="true"><span class="octicon octicon-link"></span></a>Android APK size (shared object compression)</h3>

<p><a href="https://developer.android.com/topic/performance/reduce-apk-size#extract-false">Android guidelines</a> in general recommend distributing native shared objects
uncompressed because that actually saves on device space. Shared objects can be
directly loaded from the APK instead of unpacking them on device into a
temporary location and then loading. APKs are additionally packed in transit -
that is why you should be looking at download size.</p>

<p>Flutter APKs by default don’t follow these guidelines and compress
<code class="language-plaintext highlighter-rouge">libflutter.so</code> and <code class="language-plaintext highlighter-rouge">libapp.so</code> - this leads to smaller APK size but larger on
device size.</p>

<p>Shared objects from third parties can change this default setting with
<code class="language-plaintext highlighter-rouge">android:extractNativeLibs="true"</code> in their <code class="language-plaintext highlighter-rouge">AndroidManifest.xml</code> and stop the
compression of <code class="language-plaintext highlighter-rouge">libflutter.so</code>, <code class="language-plaintext highlighter-rouge">libapp.so</code>, and any user-added shared objects.
To re-enable compression, override the setting in
<code class="language-plaintext highlighter-rouge">your_app_name/android/app/src/main/AndroidManifest.xml</code> in the following way.</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@@ -1,5 +1,6 @@</span>
 &lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
<span class="gd">-    package="com.example.your_app_name"&gt;
</span><span class="gi">+    xmlns:tools="http://schemas.android.com/tools"
+    package="com.example.your_app_name" &gt;
</span>     &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that
          calls FlutterMain.startInitialization(this); in its onCreate method.
          In most cases you can leave this as-is, but you if you want to provide
          additional functionality it is fine to subclass or reimplement
          FlutterApplication and put your custom class here. --&gt;
<span class="p">@@ -8,7 +9,9 @@</span>
     &lt;application
         android:name="io.flutter.app.FlutterApplication"
         android:label="your_app_name"
<span class="gd">-        android:icon="@mipmap/ic_launcher"&gt;
</span><span class="gi">+        android:icon="@mipmap/ic_launcher"
+        android:extractNativeLibs="true"
+        tools:replace="android:extractNativeLibs"&gt;
</span></code></pre></div></div>

<h3 id="ios-symbols-stripped">
<a class="anchor" href="#ios-symbols-stripped" aria-hidden="true"><span class="octicon octicon-link"></span></a>iOS symbols stripped</h3>

<p>When creating a release archive (IPA) the symbols are stripped by Xcode.</p>

<ol>
  <li>In Xcode, go to <strong>Target Runner &gt; Build Settings &gt; Strip Style</strong>.</li>
  <li>Change from <strong>All Symbols</strong> to <strong>Non-Global Symbols</strong>.</li>
</ol>


        
      </div>
    </main>
  </div>
</div>


    <footer class="site-footer">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 site-footer__wrapper">
        <div class="site-footer__logo">
          <img src="/images/flutter-mono-81x100.png" alt="Flutter Logo" width="81" height="100">
        </div>
        <div class="site-footer__content">
          <ul class="site-footer__link-list">
              <li><a href="https://groups.google.com/forum/#!forum/flutter-dev">flutter-dev@</a></li>
              <li><a href="/tos">terms</a></li>
              <li><a href="/brand">brand usage</a></li>
              <li><a href="/security">security</a></li>
              <li><a href="https://www.google.com/intl/en/policies/privacy">privacy</a></li>
              <li><a href="https://esflutter.dev/">español</a></li>
              <li><a href="https://flutter.cn" class="text-nowrap">社区中文资源</a></li> 
              <li><a href="https://flutter-ko.dev/" class="text-nowrap">한국어</a></li>
              <li><a href="https://blog.google/inside-google/company-announcements/standing-with-black-community">We stand in solidarity with the Black community. Black Lives Matter.</a></li>
          </ul>

          <p class="licenses">
            Except as otherwise noted,
            this work is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0">Creative
            Commons Attribution 4.0 International License</a>,
            and code samples are licensed under the BSD License.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

    
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=at3ul57xpub2vk3oxt2ytw365i"></script>
  </body>
</html>
