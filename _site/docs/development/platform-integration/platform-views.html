<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hosting native Android and iOS views in your Flutter app with Platform Views  - Flutter </title>
  <link rel="shortcut icon" href="/images/favicon.png">

  <!-- Google Optimize -->
  <script src="https://www.googleoptimize.com/optimize.js?id=GTM-MPZP6R8"></script>
  <!-- End Google Optimize -->

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-ND4LWWZ');</script>
  <!-- End Google Tag Manager -->

  
  <meta name="description" content="Learn how to host native Android and iOS views in your Flutter app with Platform Views.">
  <meta name="keywords" content=" ">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@flutterdev">

  <meta property="og:title" content="Hosting native Android and iOS views in your Flutter app with Platform Views">
  <meta property="og:url" content="https://flutter.dev/docs/development/platform-integration/platform-views">
  <meta property="og:description" content="Learn how to host native Android and iOS views in your Flutter app with Platform Views.">
  
  <meta property="og:image" content="https://flutter.dev/images/flutter-logo-sharing.png">

  <link href="https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:300,400,500|Roboto+Mono:400,700|Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/main-5179236d2a521f0d8c964446a1eaa9bee448793c298286381d5cbdc3f6776229.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
  <script src="/assets/main-3d1fe020941b4eb18d313f0eb6a8ff9fd170a0b3ed6913d333d804fec0136545.js" type="text/javascript"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67589403-1', 'auto');
    ga('send', 'pageview');
  </script>

  <meta name="google-site-verification" content="HFqxhSbf9YA_0rBglNLzDiWnrHiK_w4cqDh2YD2GEY4" />
  <meta name="google-site-verification" content="Zom-prnFykfYycmI_nzRWYx5r6Z9OwR-yEsgElRz_Ug" />
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-ND4LWWZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="overlay-under-drawer"></div>

    <header class="site-header">
  <nav class="navbar navbar-expand-md justify-content-start justify-content-md-between">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="material-icons">menu</i>
    </button>

    <a class="navbar-brand" href="/">
      <img alt="Flutter logo" height="37" width="129" class="align-middle" src="/assets/flutter-lockup-1caf6476beed76adec3c477586da54de6b552b2f42108ec5bc68dc63bae2df75.png">
    </a>

    <div class="collapse navbar-collapse flex-grow-0" id="navbarSupportedContent">
      <div class="site-header__sheet-bg" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"></div>
      <div class="site-header__sheet">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="/docs">Docs</a>
          </li>
          <div class="site-sidebar site-sidebar--header d-md-none">
            <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="false" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link active collapsable"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="true" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

          </div>

          <li class="nav-item">
            <a class="nav-link" href="/showcase">Showcase</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/community">Community</a>
          </li>
        </ul>
        <form action="/search/" class="site-header__search form-inline">
          <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
        </form>
      </div>
    </div>
    <div class="site-header__social navbar-nav flex-row">
      <a class="nav-item nav-link" href="https://twitter.com/flutterdev" aria-label="Twittter"><i class="fab fa-twitter fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://www.youtube.com/flutterdev" aria-label="YouTube"><i class="fab fa-youtube fa-lg"></i></a>
      <a class="nav-item nav-link" href="https://github.com/flutter" aria-label="Github"><i class="fab fa-github fa-lg"></i></a>
    </div>
    <a class="site-header__cta btn btn-primary" href="/docs/get-started/install/">Get started</a>
    </nav>
</header>
<!---->
  
  <div class="site-banner site-banner--default" role="alert">
    Flutter's I/O schedule is live. <a href="http://goo.gle/io21-flutter-agenda-4">Learn more</a>.
  </div>
<div class="container-fluid position-relative">
  <div class="row flex-xl-nowrap">
    <div class="fixed-col site-sidebar site-sidebar--fixed col-12 col-md-3 col-xl-2 d-none d-md-block" data-fixed-column>
      <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >Get started</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/install">1. Install</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/editor">2. Set up an editor</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/test-drive">3. Test drive</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/codelab">4. Write your first app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/learn-more">5. Learn more</a>
  </li><div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-1-7"
      href="#sidenav-1-7" role="button"
      aria-expanded="true" aria-controls="sidenav-1-7"
    >From another platform?
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/android-devs">Flutter for Android devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/ios-devs">Flutter for iOS devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/react-native-devs">Flutter for React Native devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/web-devs">Flutter for web devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/xamarin-forms-devs">Flutter for Xamarin.Forms devs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/flutter-for/declarative">Introduction to declarative UI</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="https://dart.dev/overview" target="_blank" rel="noopener">Dart language overview<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/get-started/web">Building a web app</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="false" aria-controls="sidenav-2"
      >Samples & tutorials</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="https://gallery.flutter.dev" target="_blank" rel="noopener">Flutter Gallery [running app]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/gallery" target="_blank" rel="noopener">Flutter Gallery [repo]<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">Sample apps on GitHub<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/cookbook">Cookbook</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/codelabs">Codelabs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/tutorials">Tutorials</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="true" aria-controls="sidenav-3"
      >Development</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1"
      href="/docs/development/ui" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1"
    >User interface
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets-intro">Introduction to widgets</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-2"
      href="/docs/development/ui/layout" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-2"
    >Building layouts
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout">Layouts in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/adaptive-responsive">Creating adaptive and responsive apps</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/constraints">Understanding constraints [NEW]</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/layout/box-constraints">Box constraints</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/interactive">Adding interactivity</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/assets-and-images">Assets and images</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-5"
      href="/docs/development/ui/navigation" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-5"
    >Navigation & routing
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation">Navigation in Flutter</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/deep-linking">Deep linking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/navigation/url-strategies">URL strategies</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-6"
      href="/docs/development/ui/animations" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-6"
    >Animations
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/tutorial">Tutorial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/implicit-animations">Implicit animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/hero-animations">Hero animations</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/animations/staggered-animations">Staggered animations</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-1-7"
      href="/docs/development/ui/advanced" role="button"
      aria-expanded="false" aria-controls="sidenav-3-1-7"
    >Advanced UI
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-1-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/slivers">Slivers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/gestures">Gestures</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/advanced/splash-screen">Splash screens</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/ui/widgets">Widget catalog</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2"
      href="/docs/development/data-and-backend" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2"
    >Data & backend
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2">
      <li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-2-1"
      href="/docs/development/data-and-backend/state-mgmt" role="button"
      aria-expanded="false" aria-controls="sidenav-3-2-1"
    >State management
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-2-1">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/intro">Introduction</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/declarative">Think declaratively</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/ephemeral-vs-app">Ephemeral vs app state</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/simple">Simple app state management</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/state-mgmt/options">Options</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/networking">Networking & http</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/json">JSON and serialization</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/firebase">Firebase</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/data-and-backend/google-apis">Google APIs</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="/docs/development/accessibility-and-localization" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >Accessibility & internationalization
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/accessibility">Accessibility</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/accessibility-and-localization/internationalization">Internationalization</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link active collapsable"
      data-toggle="collapse" data-target="#sidenav-3-4"
      href="/docs/development/platform-integration" role="button"
      aria-expanded="true" aria-controls="sidenav-3-4"
    >Platform integration
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-3-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes/supported-platforms">Supported platforms</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/ios-app-clip">Adding iOS App Clip support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/apple-watch">Apple Watch support</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/c-interop">C interop</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/docs/development/platform-integration/platform-views">Hosting native Android and iOS views</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/web">Web FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/platform-integration/platform-channels">Writing platform-specific code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-5"
      href="/docs/development/packages-and-plugins" role="button"
      aria-expanded="false" aria-controls="sidenav-3-5"
    >Packages & plugins
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-5">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/using-packages">Using packages</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/developing-packages">Developing packages & plugins</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/favorites">Flutter Favorites program</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/background-processes">Background processes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6"
      href="/docs/development/add-to-app" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6"
    >Add Flutter to existing app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app">Introduction</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-2"
      href="/docs/development/add-to-app/android" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-2"
    >Adding to an Android app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-fragment">Add a Flutter Fragment</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/add-flutter-view">Add a Flutter View</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/android/plugin-setup">Plugin setup</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-6-3"
      href="/docs/development/add-to-app/ios" role="button"
      aria-expanded="false" aria-controls="sidenav-3-6-3"
    >Adding to an iOS app
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-6-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/project-setup">Project setup</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/ios/add-flutter-screen">Add a single Flutter screen</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/debugging">Debugging & hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/performance">Loading sequence and performance</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/add-to-app/multiple-flutters">Multiple Flutter instances</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7"
      href="/docs/development/tools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7"
    >Tools & features
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/android-studio">Android Studio & IntelliJ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/vs-code">Visual Studio Code</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-3"
      href="/docs/development/tools/devtools" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-3"
    >DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/android-studio">Install from Android Studio & IntelliJ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/vscode">Install from VS Code</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cli">Install from command line</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/inspector">Flutter inspector</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/performance">Performance view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/cpu-profiler">CPU Profiler view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/memory">Memory view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/network">Network view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/debugger">Debugger</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/logging">Logging view</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/devtools/app-size">App size tool</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-7-4"
      href="/docs/development/tools/sdk" role="button"
      aria-expanded="false" aria-controls="sidenav-3-7-4"
    >Flutter SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/overview">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/upgrading">Upgrading</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/releases">Releases</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/release/breaking-changes">Breaking changes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/sdk/release-notes">Release notes</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/pubspec">Flutter and the pubspec file</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/hot-reload">Hot reload</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/flutter-fix">Flutter Fix</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/formatting">Code formatting</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/tools/web-renderers">Web renderers</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-8"
      href="/docs/development/androidx-migration" role="button"
      aria-expanded="false" aria-controls="sidenav-3-8"
    >Migration notes
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-8">
      <li class="nav-item">
    <a class="nav-link" href="/docs/development/androidx-migration">AndroidX migration</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/packages-and-plugins/plugin-api-migration">Android plugin upgrade</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-14">Developing for iOS 14</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/development/ios-project-migration">Xcode 11.4 support</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >Testing & debugging</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/docs/testing/debugging">Debugging tools</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/code-debugging">Debugging apps programmatically</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/oem-debuggers">Using an OEM debugger</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/build-modes">Flutter's build modes</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/common-errors">Common Flutter errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/errors">Handling errors</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing">Testing</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/testing/integration-tests">Integration testing</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >Performance & optimization</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/docs/perf">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/app-size">App size</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-3"
      href="/docs/perf/rendering" role="button"
      aria-expanded="false" aria-controls="sidenav-5-3"
    >Rendering performance
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-3">
      <li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering">Overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/best-practices">Performance best practices</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/ui-performance">Performance profiling</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/rendering/shader">Reduce shader compilation jank</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/docs/perf/metrics">Performance metrics</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/faq">Performance FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/perf/appendix">Appendix</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >Deployment</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/docs/deployment/obfuscate">Obfuscating Dart code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/flavors">Creating flavors for Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/android">Build and release an Android app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/ios">Build and release an iOS app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/linux">Build and release a Linux app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/web">Build and release a web app</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/deployment/cd">Continuous deployment</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >Resources</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/docs/resources/bootstrap-into-dart">Dart resources</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/compatibility">Compatibility policy</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/architectural-overview">Architectural overview</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/inside-flutter">Inside Flutter</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google Fonts package<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/platform-adaptations">Platform adaptations</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/videos">Videos and online courses</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/books">Books</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/design-docs">Design Documents</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/resources/bug-reports">Creating useful bug reports</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing to Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1KXNtO9My2AMpDOF9A9Y_4aj4_BcgmDDT" target="_blank" rel="noopener">Official brand assets<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >Reference</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/dash">Who is Dash?</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/widgets">Widget index</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">API reference<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="/docs/reference/flutter-cli">flutter CLI reference</a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package site<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

    </div>
    <div
  id="site-toc--side"
  class="site-toc site-toc--side fixed-col col-xl-2 order-3"
  data-fixed-column
>
  <header class="site-toc__title">
    Contents
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    </header>
  <ul class="section-nav nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#android">Android</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#on-the-dart-side">On the Dart side</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#hybrid-composition">Hybrid Composition</a></li>
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#virtual-display">Virtual Display</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#on-the-platform-side">On the platform side</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#ios">iOS</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#on-the-dart-side-1">On the Dart side</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#on-the-platform-side-1">On the platform side</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#putting-it-together">Putting it together</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#performance">Performance</a></li>
</ul>
</div>
<main class="site-content col-12 col-md-9 offset-md-3 col-xl-8 offset-xl-2 col-xxl-8 offset-xxl-2" role="main">
      <div class="container">
        
        
        <header class="site-content__title">
          <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/flutter/website/tree/master/src/docs/development/platform-integration/platform-views.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/flutter/website/issues/new?title='Hosting native Android and iOS views in your Flutter app with Platform Views' page issue&body=
Page URL: https://flutter.dev/docs/development/platform-integration/platform-views.html%0D%0A
Page source: https://github.com/flutter/website/tree/master/src/docs/development/platform-integration/platform-views.md%0D%0A
%0D%0A
Found a typo? You can fix it yourself by going to the page source and clicking the pencil icon. Or finish creating this issue.%0D%0A
%0D%0A
Description of issue:" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

          <h1>Hosting native Android and iOS views in your Flutter app with Platform Views</h1>
          

<nav aria-label="breadcrumb">
  <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs" property="item" typeof="WebPage"><span property="name">Docs</span>
      </a>
      <meta property="position" content="1" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/development" property="item" typeof="WebPage"><span property="name">Development</span>
      </a>
      <meta property="position" content="2" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/docs/development/platform-integration" property="item" typeof="WebPage"><span property="name">Platform integration</span>
      </a>
      <meta property="position" content="3" />
    </li>
  <li class="breadcrumb-item active"
      property="itemListElement" typeof="ListItem" aria-current="page"><a href="/docs/development/platform-integration/platform-views.html" property="item" typeof="WebPage"><span property="name">Platform-views</span>
      </a>
      <meta property="position" content="4" />
    </li>
  
  </ol>
</nav>
          </header>
        <div
  id="site-toc--inline"
  class="site-toc site-toc--inline "
  
>
  <header class="site-toc__title">
    Contents
    </header>
  <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#android">Android</a>
<ul>
<li class="toc-entry toc-h3"><a href="#on-the-dart-side">On the Dart side</a>
<ul>
<li class="toc-entry toc-h4"><a href="#hybrid-composition">Hybrid Composition</a></li>
<li class="toc-entry toc-h4"><a href="#virtual-display">Virtual Display</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#on-the-platform-side">On the platform side</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#ios">iOS</a>
<ul>
<li class="toc-entry toc-h3"><a href="#on-the-dart-side-1">On the Dart side</a></li>
<li class="toc-entry toc-h3"><a href="#on-the-platform-side-1">On the platform side</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#putting-it-together">Putting it together</a></li>
<li class="toc-entry toc-h2"><a href="#performance">Performance</a></li>
</ul>
</div>
<p>Platform views allow to embed native views in a Flutter app, so
you can apply transforms, clips, and opacity to the native view
from Dart.</p>

<p>This allows you, for example, to use the native
Google Maps from the Android and iOS SDKs
directly inside your Flutter app, by using Platform Views.</p>

<p>This page discusses how to host your own native views
within a Flutter app.</p>

<h2 id="android">
<a class="anchor" href="#android" aria-hidden="true"><span class="octicon octicon-link"></span></a>Android</h2>

<p>Flutter supports two modes: Virtual displays and Hybrid composition.</p>

<p>Which one to use depends on the use case. Let’s take a look:</p>

<ul>
  <li>
    <p>Virtual displays renders the <code class="language-plaintext highlighter-rouge">android.view.View</code> instance to a texture,
so it’s not embedded within the Android Activity’s view hierachy.
Certain platform interactions such as keyboard handling, and accessibility
features might not work.</p>
  </li>
  <li>
    <p>Hybrid composition requires Flutter 1.22 (<a href="https://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel#1222--october-16-2020">version 1.22.2</a> is recommended). This mode appends the
native <code class="language-plaintext highlighter-rouge">android.view.View</code> to the view hierarchy. Therefore, keyboard
handling, and accessibility work out of the box. Prior to Android 10,
this mode may significantly reduce the frame throughput (FPS) of the
Flutter UI. See <a href="#performance">performance</a> for more.</p>
  </li>
</ul>

<p>To create a platform view on Android, follow these steps:</p>

<h3 id="on-the-dart-side">
<a class="anchor" href="#on-the-dart-side" aria-hidden="true"><span class="octicon octicon-link"></span></a>On the Dart side</h3>

<p>On the Dart side, create a <code class="language-plaintext highlighter-rouge">Widget</code>
and add the following build implementation,
as shown in the following steps.</p>

<aside class="alert alert-warning" role="alert">
  <p><i class="fas fa-exclamation-triangle"></i> <strong>Warning:</strong>
  For this to work, your plugin or app must use Android embedding v2.
  If you haven’t updated your plugin, see the
  <a href="/docs/development/packages-and-plugins/plugin-api-migration">plugin migration guide</a>.</p>
</aside>

<h4 id="hybrid-composition">
<a class="anchor" href="#hybrid-composition" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hybrid Composition</h4>

<p>In your Dart file, for example <code class="language-plaintext highlighter-rouge">native_view_example.dart</code>,
do the following:</p>

<ol>
  <li>Add the following imports:</li>
</ol>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/foundation.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/gestures.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/rendering.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'package:flutter/services.dart'</span><span class="o">;</span>
</code></pre></div></div>

<ol>
  <li>Implement a <code class="language-plaintext highlighter-rouge">build()</code> method:</li>
</ol>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// This is used in the platform side to register the view.</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">viewType</span> <span class="o">=</span> <span class="s">'&lt;platform-view-type&gt;'</span><span class="o">;</span>
  <span class="c1">// Pass parameters to the platform side.</span>
  <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;</span> <span class="n">creationParams</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;{};</span>

  <span class="k">return</span> <span class="n">PlatformViewLink</span><span class="o">(</span>
    <span class="nl">viewType:</span> <span class="n">viewType</span><span class="o">,</span>
    <span class="nl">surfaceFactory:</span>
        <span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">PlatformViewController</span> <span class="n">controller</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">AndroidViewSurface</span><span class="o">(</span>
        <span class="nl">controller:</span> <span class="n">controller</span><span class="o">,</span>
        <span class="nl">gestureRecognizers:</span> <span class="kd">const</span> <span class="o">&lt;</span><span class="n">Factory</span><span class="o">&lt;</span><span class="n">OneSequenceGestureRecognizer</span><span class="o">&gt;&gt;{},</span>
        <span class="nl">hitTestBehavior:</span> <span class="n">PlatformViewHitTestBehavior</span><span class="o">.</span><span class="na">opaque</span><span class="o">,</span>
      <span class="o">);</span>
    <span class="o">},</span>
    <span class="nl">onCreatePlatformView:</span> <span class="o">(</span><span class="n">PlatformViewCreationParams</span> <span class="n">params</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">PlatformViewsService</span><span class="o">.</span><span class="na">initSurfaceAndroidView</span><span class="o">(</span>
        <span class="nl">id:</span> <span class="n">params</span><span class="o">.</span><span class="na">id</span><span class="o">,</span>
        <span class="nl">viewType:</span> <span class="n">viewType</span><span class="o">,</span>
        <span class="nl">layoutDirection:</span> <span class="n">TextDirection</span><span class="o">.</span><span class="na">ltr</span><span class="o">,</span>
        <span class="nl">creationParams:</span> <span class="n">creationParams</span><span class="o">,</span>
        <span class="nl">creationParamsCodec:</span> <span class="n">StandardMessageCodec</span><span class="o">(),</span>
      <span class="o">)</span>
        <span class="o">..</span><span class="na">addOnPlatformViewCreatedListener</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">onPlatformViewCreated</span><span class="o">)</span>
        <span class="o">..</span><span class="na">create</span><span class="o">();</span>
    <span class="o">},</span>
  <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>For more information, see the API docs for:</p>

<ul>
  <li><a href="https://api.flutter.dev/flutter/widgets/PlatformViewLink-class.html"><code class="language-plaintext highlighter-rouge">PlatformViewLink</code></a></li>
  <li><a href="https://api.flutter.dev/flutter/widgets/AndroidViewSurface-class.html"><code class="language-plaintext highlighter-rouge">AndroidViewService</code></a></li>
  <li><a href="https://api.flutter.dev/flutter/services/PlatformViewsService-class.html"><code class="language-plaintext highlighter-rouge">PlatformViewsService</code></a></li>
</ul>

<h4 id="virtual-display">
<a class="anchor" href="#virtual-display" aria-hidden="true"><span class="octicon octicon-link"></span></a>Virtual Display</h4>

<p>In your Dart file, for example <code class="language-plaintext highlighter-rouge">native_view_example.dart</code>,
do the following:</p>

<ol>
  <li>Add the following imports:</li>
</ol>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/widget.dart'</span><span class="o">;</span>
</code></pre></div></div>

<ol>
  <li>Implement a <code class="language-plaintext highlighter-rouge">build()</code> method:</li>
</ol>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// This is used in the platform side to register the view.</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">viewType</span> <span class="o">=</span> <span class="s">'hybrid-view-type'</span><span class="o">;</span>
  <span class="c1">// Pass parameters to the platform side.</span>
  <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;</span> <span class="n">creationParams</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;{};</span>

  <span class="k">return</span> <span class="n">AndroidView</span><span class="o">(</span>
    <span class="nl">viewType:</span> <span class="n">viewType</span><span class="o">,</span>
    <span class="nl">layoutDirection:</span> <span class="n">TextDirection</span><span class="o">.</span><span class="na">ltr</span><span class="o">,</span>
    <span class="nl">creationParams:</span> <span class="n">creationParams</span><span class="o">,</span>
    <span class="nl">creationParamsCodec:</span> <span class="kd">const</span> <span class="n">StandardMessageCodec</span><span class="o">(),</span>
  <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>For more information, see the API docs for:</p>

<ul>
  <li><a href="https://api.flutter.dev/flutter/widgets/AndroidView-class.html"><code class="language-plaintext highlighter-rouge">AndroidView</code></a></li>
</ul>

<h3 id="on-the-platform-side">
<a class="anchor" href="#on-the-platform-side" aria-hidden="true"><span class="octicon octicon-link"></span></a>On the platform side</h3>

<p>On the platform side, use the standard
<code class="language-plaintext highlighter-rouge">io.flutter.plugin.platform</code> package in either Java or Kotlin:</p>

<ul class="nav nav-tabs sample-code-tabs" id="android-platform-views-language" role="tablist">
<li class="nav-item">
  <a class="nav-link active" id="android-platform-views-kotlin" href="#android-platform-views-kotlin-tab" role="tab" aria-controls="android-platform-views-kotlin" aria-selected="true">Kotlin</a>
</li>

<li class="nav-item">
  <a class="nav-link " id="android-platform-views-java" href="#android-platform-views-java-tab" role="tab" aria-controls="android-platform-views-java" aria-selected="true">Java</a>
</li>
</ul>
<div class="tab-content">

<div class="tab-pane active" id="android-platform-views-kotlin-tab" role="tabpanel" aria-labelledby="android-platform-views-kotlin-tab">

    <p>In your native code, implement the following:</p>

    <p>Extend <code class="language-plaintext highlighter-rouge">io.flutter.plugin.platform.PlatformView</code> to provide a reference to the <code class="language-plaintext highlighter-rouge">android.view.View</code>,
For example <code class="language-plaintext highlighter-rouge">NativeView.kt</code>:</p>

    <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">dev.flutter.example</span>

<span class="k">import</span> <span class="nn">android.content.Context</span>
<span class="k">import</span> <span class="nn">android.graphics.Color</span>
<span class="k">import</span> <span class="nn">android.view.View</span>
<span class="k">import</span> <span class="nn">android.widget.TextView</span>
<span class="k">import</span> <span class="nn">io.flutter.plugin.platform.PlatformView</span>

<span class="k">internal</span> <span class="kd">class</span> <span class="nc">NativeView</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nc">Context</span><span class="p">,</span> <span class="n">id</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">creationParams</span><span class="p">:</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">String</span><span class="err">?</span><span class="p">,</span> <span class="nc">Any</span><span class="err">?</span><span class="p">&gt;?)</span> <span class="p">:</span> <span class="nc">PlatformView</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">textView</span><span class="p">:</span> <span class="nc">TextView</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">getView</span><span class="p">():</span> <span class="nc">View</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">textView</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">dispose</span><span class="p">()</span> <span class="p">{}</span>

    <span class="nf">init</span> <span class="p">{</span>
        <span class="n">textView</span> <span class="p">=</span> <span class="nc">TextView</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="n">textView</span><span class="p">.</span><span class="n">textSize</span> <span class="p">=</span> <span class="mf">72f</span>
        <span class="n">textView</span><span class="p">.</span><span class="nf">setBackgroundColor</span><span class="p">(</span><span class="nc">Color</span><span class="p">.</span><span class="nf">rgb</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
        <span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">"Rendered on a native Android view (id: $id)"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>Create a factory class that creates an instance of the <code class="language-plaintext highlighter-rouge">NativeView</code> created earlier,
for example <code class="language-plaintext highlighter-rouge">NativeViewFactory.kt</code>:</p>

    <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">dev.flutter.example</span>

<span class="k">import</span> <span class="nn">android.content.Context</span>
<span class="k">import</span> <span class="nn">android.view.View</span>
<span class="k">import</span> <span class="nn">io.flutter.plugin.common.StandardMessageCodec</span>
<span class="k">import</span> <span class="nn">io.flutter.plugin.platform.PlatformView</span>
<span class="k">import</span> <span class="nn">io.flutter.plugin.platform.PlatformViewFactory</span>

<span class="kd">class</span> <span class="nc">NativeViewFactory</span> <span class="p">:</span> <span class="nc">PlatformViewFactory</span><span class="p">(</span><span class="nc">StandardMessageCodec</span><span class="p">.</span><span class="nc">INSTANCE</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">create</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nc">Context</span><span class="p">,</span> <span class="n">viewId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nc">Any</span><span class="p">?):</span> <span class="nc">PlatformView</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">creationParams</span> <span class="p">=</span> <span class="n">args</span> <span class="k">as</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">String</span><span class="err">?</span><span class="p">,</span> <span class="nc">Any</span><span class="err">?</span><span class="p">&gt;?</span>
        <span class="k">return</span> <span class="nc">NativeView</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">viewId</span><span class="p">,</span> <span class="n">creationParams</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>Finally, register the platform view. This can be done in an app or a plugin.</p>

    <p>For app registration, modify the app’s main activity (e.g. <code class="language-plaintext highlighter-rouge">MainActivity.kt</code>):</p>

    <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">dev.flutter.example</span>

<span class="k">import</span> <span class="nn">io.flutter.embedding.android.FlutterActivity</span>
<span class="k">import</span> <span class="nn">io.flutter.embedding.engine.FlutterEngine</span>

<span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">FlutterActivity</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">configureFlutterEngine</span><span class="p">(</span><span class="n">flutterEngine</span><span class="p">:</span> <span class="nc">FlutterEngine</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">flutterEngine</span>
                <span class="p">.</span><span class="n">platformViewsController</span>
                <span class="p">.</span><span class="n">registry</span>
                <span class="p">.</span><span class="nf">registerViewFactory</span><span class="p">(</span><span class="s">"&lt;platform-view-type&gt;"</span><span class="p">,</span> <span class="nc">NativeViewFactory</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>For plugin registration, modify the plugin’s main class (e.g. <code class="language-plaintext highlighter-rouge">PlatformViewPlugin.kt</code>):</p>

    <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">dev.flutter.plugin.example</span>

<span class="k">import</span> <span class="nn">io.flutter.embedding.engine.plugins.FlutterPlugin</span>
<span class="k">import</span> <span class="nn">io.flutter.embedding.engine.plugins.FlutterPlugin.FlutterPluginBinding</span>

<span class="kd">class</span> <span class="nc">PlatformViewPlugin</span> <span class="p">:</span> <span class="nc">FlutterPlugin</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onAttachedToEngine</span><span class="p">(</span><span class="n">binding</span><span class="p">:</span> <span class="nc">FlutterPluginBinding</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">binding</span>
                <span class="p">.</span><span class="n">platformViewRegistry</span>
                <span class="p">.</span><span class="nf">registerViewFactory</span><span class="p">(</span><span class="s">"&lt;platform-view-type&gt;"</span><span class="p">,</span> <span class="nc">NativeViewFactory</span><span class="p">())</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onDetachedFromEngine</span><span class="p">(</span><span class="n">binding</span><span class="p">:</span> <span class="nc">FlutterPluginBinding</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>    </div>

  </div>


<div class="tab-pane " id="android-platform-views-java-tab" role="tabpanel" aria-labelledby="android-platform-views-java-tab">

    <p>In your native code, implement the following:</p>

    <p>Extend <code class="language-plaintext highlighter-rouge">io.flutter.plugin.platform.PlatformView</code> to provide a reference to the <code class="language-plaintext highlighter-rouge">android.view.View</code>,
For example, <code class="language-plaintext highlighter-rouge">NativeView.java</code>:</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">dev.flutter.example</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Color</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.annotation.NonNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.plugin.platform.PlatformView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">NativeView</span> <span class="kd">implements</span> <span class="nc">PlatformView</span> <span class="o">{</span>
   <span class="nd">@NonNull</span> <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TextView</span> <span class="n">textView</span><span class="o">;</span>

    <span class="nc">NativeView</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">id</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">creationParams</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">textView</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TextView</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
        <span class="n">textView</span><span class="o">.</span><span class="na">setTextSize</span><span class="o">(</span><span class="mi">72</span><span class="o">);</span>
        <span class="n">textView</span><span class="o">.</span><span class="na">setBackgroundColor</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">rgb</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">255</span><span class="o">,</span> <span class="mi">255</span><span class="o">));</span>
        <span class="n">textView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Rendered on a native Android view (id: "</span> <span class="o">+</span> <span class="n">id</span> <span class="o">+</span> <span class="s">")"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@NonNull</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">getView</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">textView</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dispose</span><span class="o">()</span> <span class="o">{}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>Create a factory class that creates an instance of the <code class="language-plaintext highlighter-rouge">NativeView</code> created earlier,
for example, <code class="language-plaintext highlighter-rouge">NativeViewFactory.java</code>:</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">dev.flutter.example</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.annotation.NonNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.plugin.common.BinaryMessenger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.plugin.common.StandardMessageCodec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.plugin.platform.PlatformView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.plugin.platform.PlatformViewFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">NativeViewFactory</span> <span class="kd">extends</span> <span class="nc">PlatformViewFactory</span> <span class="o">{</span>
  <span class="nd">@NonNull</span> <span class="kd">private</span> <span class="kd">final</span> <span class="nc">BinaryMessenger</span> <span class="n">messenger</span><span class="o">;</span>
  <span class="nd">@NonNull</span> <span class="kd">private</span> <span class="kd">final</span> <span class="nc">View</span> <span class="n">containerView</span><span class="o">;</span>

  <span class="nc">NativeViewFactory</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">BinaryMessenger</span> <span class="n">messenger</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="nc">View</span> <span class="n">containerView</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="nc">StandardMessageCodec</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">messenger</span> <span class="o">=</span> <span class="n">messenger</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">containerView</span> <span class="o">=</span> <span class="n">containerView</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@NonNull</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PlatformView</span> <span class="nf">create</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">id</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Object</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">creationParams</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;)</span> <span class="n">args</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">NativeView</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">id</span><span class="o">,</span> <span class="n">creationParams</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>Finally, register the platform view. This can be done in an app or a plugin.</p>

    <p>For app registration, modify the app’s main activity (e.g. <code class="language-plaintext highlighter-rouge">MainActivity.java</code>):</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">dev.flutter.example</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.NonNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.embedding.android.FlutterActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.embedding.engine.FlutterEngine</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">FlutterActivity</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">configureFlutterEngine</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">FlutterEngine</span> <span class="n">flutterEngine</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">flutterEngine</span>
            <span class="o">.</span><span class="na">getPlatformViewsController</span><span class="o">()</span>
            <span class="o">.</span><span class="na">getRegistry</span><span class="o">()</span>
            <span class="o">.</span><span class="na">registerViewFactory</span><span class="o">(</span><span class="s">"&lt;platform-view-type&gt;"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">NativeViewFactory</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>For plugin registration, modify the plugin’s main file (e.g. <code class="language-plaintext highlighter-rouge">PlatformViewPlugin.java</code>):</p>

    <div class="language-java highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">dev.flutter.plugin.example</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.NonNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.embedding.engine.plugins.FlutterPlugin</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.flutter.plugin.common.BinaryMessenger</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PlatformViewPlugin</span> <span class="kd">implements</span> <span class="nc">FlutterPlugin</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAttachedToEngine</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">FlutterPluginBinding</span> <span class="n">binding</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">binding</span>
        <span class="o">.</span><span class="na">getPlatformViewRegistry</span><span class="o">()</span>
        <span class="o">.</span><span class="na">registerViewFactory</span><span class="o">(</span><span class="s">"&lt;platform-view-type&gt;"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">NativeViewFactory</span><span class="o">());</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDetachedFromEngine</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">FlutterPluginBinding</span> <span class="n">binding</span><span class="o">)</span> <span class="o">{}</span>
<span class="o">}</span>
</code></pre></div>    </div>

  </div>

</div>

<p>For more information, see the API docs for:</p>

<ul>
  <li><a href="https://api.flutter.dev/javadoc/io/flutter/embedding/engine/plugins/FlutterPlugin.html"><code class="language-plaintext highlighter-rouge">FlutterPlugin</code></a></li>
  <li><a href="https://api.flutter.dev/javadoc/io/flutter/plugin/platform/PlatformViewRegistry.html"><code class="language-plaintext highlighter-rouge">PlatformViewRegistry</code></a></li>
  <li><a href="https://api.flutter.dev/javadoc/io/flutter/plugin/platform/PlatformViewFactory.html"><code class="language-plaintext highlighter-rouge">PlatformViewFactory</code></a></li>
  <li><a href="https://api.flutter.dev/javadoc/io/flutter/plugin/platform/PlatformView.html"><code class="language-plaintext highlighter-rouge">PlatformView</code></a></li>
</ul>

<p>Finally, modify your <code class="language-plaintext highlighter-rouge">build.gradle</code> file to require one of the
minimal Android SDK versions:</p>

<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">android</span> <span class="o">{</span>
    <span class="n">defaultConfig</span> <span class="o">{</span>
        <span class="n">minSdkVersion</span> <span class="mi">19</span> <span class="c1">// if using Hybrid composition.</span>
        <span class="n">minSdkVersion</span> <span class="mi">20</span> <span class="c1">// if using Virtual display.</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="ios">
<a class="anchor" href="#ios" aria-hidden="true"><span class="octicon octicon-link"></span></a>iOS</h2>

<p>iOS only uses Hybrid composition, which means that the native
<code class="language-plaintext highlighter-rouge">UIView</code> is appended to view hierarchy.</p>

<p>Prior to Flutter 1.22, platform views were in developers preview.
In 1.22 or above, it’s no longer the case, so there’s no need to
set the <code class="language-plaintext highlighter-rouge">io.flutter.embedded_views_preview</code> flag in <code class="language-plaintext highlighter-rouge">Info.plist</code>.</p>

<p>To create a platform view on iOS, follow these steps:</p>

<h3 id="on-the-dart-side-1">
<a class="anchor" href="#on-the-dart-side-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>On the Dart side</h3>

<p>On the Dart side, create a <code class="language-plaintext highlighter-rouge">Widget</code>
and add the following build implementation,
as shown in the following steps.</p>

<p>In your Dart file, for example
do the following in <code class="language-plaintext highlighter-rouge">native_view_example.dart</code>:</p>

<ol>
  <li>Add the following imports:</li>
</ol>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="s">'package:flutter/widget.dart'</span><span class="o">;</span>
</code></pre></div></div>

<ol>
  <li>Implement a <code class="language-plaintext highlighter-rouge">build()</code> method:</li>
</ol>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// This is used in the platform side to register the view.</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">viewType</span> <span class="o">=</span> <span class="s">'&lt;platform-view-type&gt;'</span><span class="o">;</span>
  <span class="c1">// Pass parameters to the platform side.</span>
  <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;</span> <span class="n">creationParams</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;{};</span>

  <span class="k">return</span> <span class="n">UiKitView</span><span class="o">(</span>
    <span class="nl">viewType:</span> <span class="n">viewType</span><span class="o">,</span>
    <span class="nl">layoutDirection:</span> <span class="n">TextDirection</span><span class="o">.</span><span class="na">ltr</span><span class="o">,</span>
    <span class="nl">creationParams:</span> <span class="n">creationParams</span><span class="o">,</span>
    <span class="nl">creationParamsCodec:</span> <span class="kd">const</span> <span class="n">StandardMessageCodec</span><span class="o">(),</span>
  <span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>For more information, see the API docs for:
<a href="https://api.flutter.dev/flutter/widgets/UiKitView-class.html"><code class="language-plaintext highlighter-rouge">UIKitView</code></a>.</p>

<h3 id="on-the-platform-side-1">
<a class="anchor" href="#on-the-platform-side-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>On the platform side</h3>

<p>On the platform side, you use the either Swift or Objective-C:</p>

<ul class="nav nav-tabs sample-code-tabs" id="ios-platform-views-language" role="tablist">
<li class="nav-item">
  <a class="nav-link active" id="ios-platform-views-swift" href="#ios-platform-views-swift-tab" role="tab" aria-controls="ios-platform-views-swift" aria-selected="true">Swift</a>
</li>

<li class="nav-item">
  <a class="nav-link " id="ios-platform-views-objective-c" href="#ios-platform-views-objective-c-tab" role="tab" aria-controls="ios-platform-views-objective-c" aria-selected="true">Objective-C</a>
</li>
</ul>
<div class="tab-content">

<div class="tab-pane active" id="ios-platform-views-swift-tab" role="tabpanel" aria-labelledby="ios-platform-views-swift-tab">

    <p>Implement the factory and the platform view.
The <code class="language-plaintext highlighter-rouge">FLNativeViewFactory</code> creates the platform view, and the platform view
provides a reference to the <code class="language-plaintext highlighter-rouge">UIView</code>. For example, <code class="language-plaintext highlighter-rouge">FLNativeView.swift</code>:</p>

    <div class="language-swift highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Flutter</span>
<span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">class</span> <span class="kt">FLNativeViewFactory</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">FlutterPlatformViewFactory</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">messenger</span><span class="p">:</span> <span class="kt">FlutterBinaryMessenger</span>

    <span class="nf">init</span><span class="p">(</span><span class="nv">messenger</span><span class="p">:</span> <span class="kt">FlutterBinaryMessenger</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">messenger</span> <span class="o">=</span> <span class="n">messenger</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">create</span><span class="p">(</span>
        <span class="n">withFrame</span> <span class="nv">frame</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">,</span>
        <span class="n">viewIdentifier</span> <span class="nv">viewId</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">,</span>
        <span class="n">arguments</span> <span class="nv">args</span><span class="p">:</span> <span class="kt">Any</span><span class="p">?</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">FlutterPlatformView</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">FLNativeView</span><span class="p">(</span>
            <span class="nv">frame</span><span class="p">:</span> <span class="n">frame</span><span class="p">,</span>
            <span class="nv">viewIdentifier</span><span class="p">:</span> <span class="n">viewId</span><span class="p">,</span>
            <span class="nv">arguments</span><span class="p">:</span> <span class="n">args</span><span class="p">,</span>
            <span class="nv">binaryMessenger</span><span class="p">:</span> <span class="n">messenger</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">FLNativeView</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">FlutterPlatformView</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">_view</span><span class="p">:</span> <span class="kt">UIView</span>

    <span class="nf">init</span><span class="p">(</span>
        <span class="nv">frame</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">,</span>
        <span class="n">viewIdentifier</span> <span class="nv">viewId</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">,</span>
        <span class="n">arguments</span> <span class="nv">args</span><span class="p">:</span> <span class="kt">Any</span><span class="p">?,</span>
        <span class="n">binaryMessenger</span> <span class="nv">messenger</span><span class="p">:</span> <span class="kt">FlutterBinaryMessenger</span><span class="p">?</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="n">_view</span> <span class="o">=</span> <span class="kt">UIView</span><span class="p">()</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="c1">// iOS views can be created here</span>
        <span class="nf">createNativeView</span><span class="p">(</span><span class="nv">view</span><span class="p">:</span> <span class="n">_view</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">view</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">UIView</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">_view</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createNativeView</span><span class="p">(</span><span class="n">view</span> <span class="nv">_view</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">){</span>
        <span class="n">_view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="o">.</span><span class="n">blue</span>
        <span class="k">let</span> <span class="nv">nativeLabel</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="n">nativeLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"Native text from iOS"</span>
        <span class="n">nativeLabel</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="o">.</span><span class="n">white</span>
        <span class="n">nativeLabel</span><span class="o">.</span><span class="n">textAlignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">center</span>
        <span class="n">nativeLabel</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="mi">180</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mf">48.0</span><span class="p">)</span>
        <span class="n">_view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">nativeLabel</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>Finally, register the platform view. This can be done in an app or a plugin.</p>

    <p>For app registration, modify the App’s <code class="language-plaintext highlighter-rouge">AppDelegate.swift</code>:</p>

    <div class="language-swift highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Flutter</span>
<span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">@UIApplicationMain</span>
<span class="kd">@objc</span> <span class="kd">class</span> <span class="kt">AppDelegate</span><span class="p">:</span> <span class="kt">FlutterAppDelegate</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span>
        <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">LaunchOptionsKey</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]?</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="kt">GeneratedPluginRegistrant</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>

        <span class="k">weak</span> <span class="k">var</span> <span class="nv">registrar</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="nf">registrar</span><span class="p">(</span><span class="nv">forPlugin</span><span class="p">:</span> <span class="s">"plugin-name"</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">factory</span> <span class="o">=</span> <span class="kt">FLNativeViewFactory</span><span class="p">(</span><span class="nv">messenger</span><span class="p">:</span> <span class="n">registrar</span><span class="o">!.</span><span class="nf">messenger</span><span class="p">())</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">registrar</span><span class="p">(</span><span class="nv">forPlugin</span><span class="p">:</span> <span class="s">"&lt;plugin-name&gt;"</span><span class="p">)</span><span class="o">!.</span><span class="nf">register</span><span class="p">(</span>
            <span class="n">factory</span><span class="p">,</span>
            <span class="nv">withId</span><span class="p">:</span> <span class="s">"&lt;platform-view-type&gt;"</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">super</span><span class="o">.</span><span class="nf">application</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="nv">didFinishLaunchingWithOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>For plugin registration, modify the plugin’s main file (e.g. <code class="language-plaintext highlighter-rouge">FLPlugin.swift</code>):</p>

    <div class="language-swift highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Flutter</span>
<span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">class</span> <span class="kt">FLPlugin</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">FlutterPlugin</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">register</span><span class="p">(</span><span class="n">with</span> <span class="nv">registrar</span><span class="p">:</span> <span class="kt">FlutterPluginRegistrar</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">factory</span> <span class="o">=</span> <span class="kt">FLNativeViewFactory</span><span class="p">(</span><span class="nv">messenger</span><span class="p">:</span> <span class="n">registrar</span><span class="o">.</span><span class="n">messenger</span><span class="p">)</span>
        <span class="n">registrar</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="nv">withId</span><span class="p">:</span> <span class="s">"&lt;platform-view-type&gt;"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

  </div>


<div class="tab-pane " id="ios-platform-views-objective-c-tab" role="tabpanel" aria-labelledby="ios-platform-views-objective-c-tab">

    <p>Add the headers for the factory and the platform view.
For example, <code class="language-plaintext highlighter-rouge">FLNativeView.h</code>:</p>

    <div class="language-objc highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="cp">#import &lt;Flutter/Flutter.h&gt;
</span>
<span class="k">@interface</span> <span class="nc">FLNativeViewFactory</span> <span class="p">:</span> <span class="nc">NSObject</span> <span class="o">&lt;</span><span class="n">FlutterPlatformViewFactory</span><span class="o">&gt;</span>
<span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithMessenger</span><span class="p">:(</span><span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterBinaryMessenger</span><span class="o">&gt;*</span><span class="p">)</span><span class="nv">messenger</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@interface</span> <span class="nc">FLNativeView</span> <span class="p">:</span> <span class="nc">NSObject</span> <span class="o">&lt;</span><span class="n">FlutterPlatformView</span><span class="o">&gt;</span>

<span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithFrame</span><span class="p">:(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">frame</span>
               <span class="nf">viewIdentifier</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">viewId</span>
                    <span class="nf">arguments</span><span class="p">:(</span><span class="n">id</span> <span class="n">_Nullable</span><span class="p">)</span><span class="nv">args</span>
              <span class="nf">binaryMessenger</span><span class="p">:(</span><span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterBinaryMessenger</span><span class="o">&gt;*</span><span class="p">)</span><span class="nv">messenger</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="n">UIView</span><span class="o">*</span><span class="p">)</span><span class="n">view</span><span class="p">;</span>
<span class="k">@end</span>
</code></pre></div>    </div>

    <p>Implement the factory and the platform view.
The <code class="language-plaintext highlighter-rouge">FLNativeViewFactory</code> creates the platform view, and the platform view
provides a reference to the <code class="language-plaintext highlighter-rouge">UIView</code>. For example, <code class="language-plaintext highlighter-rouge">FLNativeView.m</code>:</p>

    <div class="language-objc highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="cp">#import "FLNativeView.h"
</span>
<span class="k">@implementation</span> <span class="nc">FLNativeViewFactory</span> <span class="p">{</span>
  <span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterBinaryMessenger</span><span class="o">&gt;*</span> <span class="n">_messenger</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithMessenger</span><span class="p">:(</span><span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterBinaryMessenger</span><span class="o">&gt;*</span><span class="p">)</span><span class="nv">messenger</span> <span class="p">{</span>
  <span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nf">init</span><span class="p">];</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">_messenger</span> <span class="o">=</span> <span class="n">messenger</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterPlatformView</span><span class="o">&gt;*</span><span class="p">)</span><span class="nf">createWithFrame</span><span class="p">:(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">frame</span>
                                   <span class="nf">viewIdentifier</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">viewId</span>
                                        <span class="nf">arguments</span><span class="p">:(</span><span class="n">id</span> <span class="n">_Nullable</span><span class="p">)</span><span class="nv">args</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">[[</span><span class="n">FLNativeView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithFrame</span><span class="p">:</span><span class="n">frame</span>
                              <span class="nl">viewIdentifier:</span><span class="n">viewId</span>
                                   <span class="nl">arguments:</span><span class="n">args</span>
                             <span class="nl">binaryMessenger:</span><span class="n">_messenger</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">FLNativeView</span> <span class="p">{</span>
   <span class="n">UIView</span> <span class="o">*</span><span class="n">_view</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithFrame</span><span class="p">:(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">frame</span>
               <span class="nf">viewIdentifier</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">viewId</span>
                    <span class="nf">arguments</span><span class="p">:(</span><span class="n">id</span> <span class="n">_Nullable</span><span class="p">)</span><span class="nv">args</span>
              <span class="nf">binaryMessenger</span><span class="p">:(</span><span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterBinaryMessenger</span><span class="o">&gt;*</span><span class="p">)</span><span class="nv">messenger</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nf">init</span><span class="p">])</span> <span class="p">{</span>
    <span class="n">_view</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">UIView</span><span class="o">*</span><span class="p">)</span><span class="n">view</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">_view</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@end</span>
</code></pre></div>    </div>

    <p>Finally, register the platform view. This can be done in an app or a plugin.</p>

    <p>For app registration, modify the App’s <code class="language-plaintext highlighter-rouge">AppDelegate.m</code>:</p>

    <div class="language-objc highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="cp">#import "AppDelegate.h"
#import "FLNativeView.h"
#import "GeneratedPluginRegistrant.h"
</span>
<span class="k">@implementation</span> <span class="nc">AppDelegate</span>

<span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span>
    <span class="nf">didFinishLaunchingWithOptions</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>
  <span class="p">[</span><span class="n">GeneratedPluginRegistrant</span> <span class="nf">registerWithRegistry</span><span class="p">:</span><span class="n">self</span><span class="p">];</span>

   <span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterPluginRegistrar</span><span class="o">&gt;*</span> <span class="n">registrar</span> <span class="o">=</span>
      <span class="p">[</span><span class="n">self</span> <span class="nf">registrarForPlugin</span><span class="p">:</span><span class="s">@"plugin-name"</span><span class="p">];</span>

  <span class="n">FLNativeViewFactory</span><span class="o">*</span> <span class="n">factory</span> <span class="o">=</span>
      <span class="p">[[</span><span class="n">FLNativeViewFactory</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithMessenger</span><span class="p">:</span><span class="n">registrar</span><span class="p">.</span><span class="n">messenger</span><span class="p">];</span>

  <span class="p">[[</span><span class="n">self</span> <span class="nf">registrarForPlugin</span><span class="p">:</span><span class="s">@"&lt;plugin-name&gt;"</span><span class="p">]</span> <span class="nf">registerViewFactory</span><span class="p">:</span><span class="n">factory</span>
                                                          <span class="nl">withId:</span><span class="s">@"&lt;platform-view-type&gt;"</span><span class="p">];</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">super</span> <span class="nf">application</span><span class="p">:</span><span class="n">application</span> <span class="nf">didFinishLaunchingWithOptions</span><span class="p">:</span><span class="n">launchOptions</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">@end</span>
</code></pre></div>    </div>

    <p>For plugin registration, modify the main plugin file (e.g. <code class="language-plaintext highlighter-rouge">FLPlugin.m</code>):</p>

    <div class="language-objc highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>
<span class="cp">#import &lt;Flutter/Flutter.h&gt;
#import "FLNativeView.h"
</span>
<span class="k">@interface</span> <span class="nc">FLPlugin</span> <span class="p">:</span> <span class="nc">NSObject</span><span class="o">&lt;</span><span class="n">FlutterPlugin</span><span class="o">&gt;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">FLPlugin</span>

<span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">registerWithRegistrar</span><span class="p">:(</span><span class="n">NSObject</span><span class="o">&lt;</span><span class="n">FlutterPluginRegistrar</span><span class="o">&gt;*</span><span class="p">)</span><span class="nv">registrar</span> <span class="p">{</span>
  <span class="n">FLNativeViewFactory</span><span class="o">*</span> <span class="n">factory</span> <span class="o">=</span>
      <span class="p">[[</span><span class="n">FLNativeViewFactory</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithMessenger</span><span class="p">:</span><span class="n">registrar</span><span class="p">.</span><span class="n">messenger</span><span class="p">];</span>
  <span class="p">[</span><span class="n">registrar</span> <span class="nf">registerViewFactory</span><span class="p">:</span><span class="n">factory</span> <span class="nf">withId</span><span class="p">:</span><span class="s">@"&lt;platform-view-type&gt;"</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">@end</span>
</code></pre></div>    </div>

  </div>

</div>

<p>For more information, see the API docs for:</p>

<ul>
  <li><a href="https://api.flutter.dev/objcdoc/Protocols/FlutterPlatformViewFactory.html"><code class="language-plaintext highlighter-rouge">FlutterPlatformViewFactory</code></a></li>
  <li><a href="https://api.flutter.dev/objcdoc/Protocols/FlutterPlatformView.html"><code class="language-plaintext highlighter-rouge">FlutterPlatformView</code></a></li>
  <li><a href="https://api.flutter.dev/javadoc/io/flutter/plugin/platform/PlatformView.html"><code class="language-plaintext highlighter-rouge">PlatformView</code></a></li>
</ul>

<h2 id="putting-it-together">
<a class="anchor" href="#putting-it-together" aria-hidden="true"><span class="octicon octicon-link"></span></a>Putting it together</h2>

<p>When implementing the <code class="language-plaintext highlighter-rouge">build()</code> method in Dart, you can use <a href="https://api.flutter.dev/flutter/foundation/defaultTargetPlatform.html"><code class="language-plaintext highlighter-rouge">defaultTargetPlatform</code></a>
to detect the platform, and decide what widget to use:</p>

<!-- skip -->
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// This is used in the platform side to register the view.</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">viewType</span> <span class="o">=</span> <span class="s">'&lt;platform-view-type&gt;'</span><span class="o">;</span>
  <span class="c1">// Pass parameters to the platform side.</span>
  <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;</span> <span class="n">creationParams</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">String</span><span class="o">,</span> <span class="kd">dynamic</span><span class="o">&gt;{};</span>

  <span class="k">switch</span> <span class="o">(</span><span class="n">defaultTargetPlatform</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">case</span> <span class="n">TargetPlatform</span><span class="o">.</span><span class="na">android</span><span class="o">:</span>
      <span class="c1">// return widget on Android.</span>
    <span class="k">case</span> <span class="n">TargetPlatform</span><span class="o">.</span><span class="na">iOS</span><span class="o">:</span>
      <span class="c1">// return widget on iOS.</span>
    <span class="k">default</span><span class="o">:</span>
      <span class="k">throw</span> <span class="n">UnsupportedError</span><span class="o">(</span><span class="s">"Unsupported platform view"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="performance">
<a class="anchor" href="#performance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Performance</h2>

<p>Platform views in Flutter come with performance trade-offs.</p>

<p>For example, in a typical Flutter app, the Flutter UI is composed
on a dedicated raster thread. This allows Flutter apps to be fast,
as the main platform thread is rarely blocked.</p>

<p>While a platform view is rendered with Hybrid composition, the Flutter
UI is composed from the platform thread, which competes with other
tasks like handling OS or plugin messages, etc.</p>

<p>Prior to Android 10, Hybrid composition copies each Flutter frame
out of the graphic memory into main memory, and then copies it back
to a GPU texture. In Android 10 or above, the graphics memory is
copied twice. As this copy happens per frame, the performance of
the entire Flutter UI may be impacted.</p>

<p>Virtual display, on the other hand, makes each pixel of the native view
flow through additional intermediate graphic buffers, which cost graphic
memory and drawing performance.</p>

<p>For complex cases, there are some techniques that can be used to mitigate
these issues.</p>

<p>For example, you could use a placeholder texture while an animation is
happening in Dart. In other words, if an animation is slow while a
platform view is rendered, then consider taking a screenshot of the
native view and rendering it as a texture.</p>

<p>For more information, see:</p>

<ul>
  <li><a href="https://api.flutter.dev/flutter/rendering/TextureLayer-class.html"><code class="language-plaintext highlighter-rouge">TextureLayer</code></a></li>
  <li><a href="https://api.flutter.dev/javadoc/io/flutter/view/TextureRegistry.html"><code class="language-plaintext highlighter-rouge">TextureRegistry</code></a></li>
  <li><a href="https://api.flutter.dev/objcdoc/Protocols/FlutterTextureRegistry.html"><code class="language-plaintext highlighter-rouge">FlutterTextureRegistry</code></a></li>
</ul>


        
      </div>
    </main>
  </div>
</div>


    <footer class="site-footer">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 site-footer__wrapper">
        <div class="site-footer__logo">
          <img src="/images/flutter-mono-81x100.png" alt="Flutter Logo" width="81" height="100">
        </div>
        <div class="site-footer__content">
          <ul class="site-footer__link-list">
              <li><a href="https://groups.google.com/forum/#!forum/flutter-dev">flutter-dev@</a></li>
              <li><a href="/tos">terms</a></li>
              <li><a href="/brand">brand usage</a></li>
              <li><a href="/security">security</a></li>
              <li><a href="https://www.google.com/intl/en/policies/privacy">privacy</a></li>
              <li><a href="https://esflutter.dev/">español</a></li>
              <li><a href="https://flutter.cn" class="text-nowrap">社区中文资源</a></li> 
              <li><a href="https://flutter-ko.dev/" class="text-nowrap">한국어</a></li>
              <li><a href="https://blog.google/inside-google/company-announcements/standing-with-black-community">We stand in solidarity with the Black community. Black Lives Matter.</a></li>
          </ul>

          <p class="licenses">
            Except as otherwise noted,
            this work is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0">Creative
            Commons Attribution 4.0 International License</a>,
            and code samples are licensed under the BSD License.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

    
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=at3ul57xpub2vk3oxt2ytw365i"></script>
  </body>
</html>
